import{X as N,G as b,j as t,S as A}from"./app-D2BBDCFC.js";import{A as P}from"./AdminAuthenticatedLayout-BpRIVWHk.js";import"./Header-BKPdAUPJ.js";import"./react-tooltip.min-Df6MMYhS.js";import{T as U}from"./Tabs-D4al1Fxl.js";import"./draftjs-to-html-BdN-nRo8.js";import"./TextInput-WxNO9k3W.js";import{u as w}from"./useTranslation-CVJluGRe.js";import I from"./UserPersonalData-DWHphoy-.js";import k from"./UserPassword-DlpGt3BN.js";import T from"./UserImages-DDsvd2sf.js";import{u as D}from"./useHandleDelete-LEZBuzZV.js";import"./Sidebar-CyvRIWTq.js";import"./bootstrap.bundle.min-Ba_qfNiZ.js";import"./NavLink-DsoYfajC.js";import"./Dropdown-DDVnA8hG.js";import"./transition-DtKZpb_s.js";import"./useSweetAlert-D27GvFwx.js";import"./OverlayTrigger-D8mD9LjI.js";import"./floating-ui.dom-CQJTMakY.js";import"./DatePickerToForm-1TaZaf05.js";import"./es-CMu9_e4K.js";/* empty css                         */import"./FileInput-3y_uw9aG.js";import"./InputError-BrT6sb3o.js";import"./PrimaryButton-ML6K15LR.js";import"./RadioButton-BUTmDsxP.js";import"./SelectInput-xW4hb1gP.js";function me({auth:p,session:E,title:d,subtitle:f,availableLocales:R,user:a,roles:h,user_roles:x,images:g,relatedCompanies:m,salutations:v,profile:n}){var c;const r=w(),u=((c=N())==null?void 0:c.props)||{};u.locale,u.languages;const e=u.permissions||{};b({role:a.role||"",name:a.name||"",surname:a.surname||"",email:a.email||"",status:a.status});const j=()=>{};D("usuario","users.destroy",[a.id]);const i=[];if(Array.isArray(m)&&m.length>0)if(m.length===1){const s=m[0];let l=null,o=null;s.relation==="customer"?(l="customers.edit",o="customers.edit"):s.relation==="provider"&&(l="providers.edit",o="providers.edit"),l&&(e!=null&&e[o])?i.push({text:r("volver_a")+" "+s.name,icon:"la-angle-left",url:l,params:[s.id,"users"],modal:!1}):e!=null&&e["users.index"]&&i.push({text:r("usuarios_volver"),icon:"la-angle-left",url:"users.index",modal:!1})}else m.forEach(s=>{let l=null,o=null;s.relation==="customer"?(l="customers.edit",o="customers.edit"):s.relation==="provider"&&(l="providers.edit",o="providers.edit"),l&&(e!=null&&e[o])&&i.push({text:s.name,icon:"la-angle-left",url:l,params:[s.id,"users"],modal:!1})}),i.length===0&&(e!=null&&e["users.index"])&&i.push({text:r("usuarios_volver"),icon:"la-angle-left",url:"users.index",modal:!1});else e!=null&&e["users.index"]&&i.push({text:r("usuarios_volver"),icon:"la-angle-left",url:"users.index",modal:!1});const _=Array.isArray(m)&&m.some(s=>s.relation==="customer"||s.relation==="provider");e!=null&&e["users.create"]&&n===!1&&!_&&i.push({text:r("usuario_nuevo"),icon:"la-plus",url:"users.create",modal:!1}),e!=null&&e["users.destroy"]&&n===!1&&i.push({text:r("eliminar"),icon:"la-trash",method:"delete",url:"users.destroy",params:[a.id],title:r("usuario_eliminar"),message:r("usuario_eliminar_confirm"),modal:!1});const y=[{key:"user-personal-data",label:r("datos_personales")},...n===!0?[{key:"user-password",label:r("contrasena")}]:[],{key:"user-images",label:r("imagenes")}];return t.jsxs(P,{user:p.user,title:d,subtitle:f,actions:i,children:[t.jsx(A,{title:d}),t.jsxs("div",{className:"contents pb-4",children:[t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsxs("h2",{children:[r("usuario")," ",t.jsxs("u",{children:[a.name," ",a.surname]})]})}),t.jsxs("div",{className:"col-12 mt-2 mb-4",children:[t.jsxs("span",{className:"text-muted me-5",children:[r("creado"),": ",t.jsx("strong",{children:a.formatted_created_at})]}),t.jsxs("span",{className:"text-muted me-5",children:[r("actualizado"),": ",t.jsx("strong",{children:a.formatted_updated_at})]})]})]}),t.jsx(U,{defaultActive:"user-personal-data",items:y,children:s=>{switch(s){case"user-personal-data":return t.jsx(I,{user:a,roles:h,user_roles:x,salutations:v});case"user-password":return t.jsx(k,{user:a});case"user-images":const l=(a==null?void 0:a.image_path)||(a==null?void 0:a.imagePath)||"users";return t.jsx(T,{images:g??[],uploadUrl:route("user-images.store"),deleteUrl:o=>route("user-images.delete",{image:o.id??o.image}),setFeaturedUrl:route("user-images.set-featured"),entityId:a.id,imagePath:l,onChange:j});default:return null}}})]})]})}export{me as default};
