import{j as e,S as k,x as f,A as C}from"./app-NnFxdXA2.js";import{A as P}from"./AdminAuthenticatedLayout-DegxA_vr.js";/* empty css                         */import{u as R,C as S,R as T,S as A,F,P as $}from"./useTableManagement-Ba3jHw9z.js";import{u as D}from"./useTranslation-D4BTlT_h.js";import"./SelectInput-Dgf13zl3.js";import{S as U}from"./StatusButton-CF0JIfNg.js";import{T as q,a as E}from"./TableExporter-B-AMcDr1.js";import"./TextInput-CyElN-IW.js";import"./useSweetAlert-9_SeR-8m.js";import{r as K}from"./renderCellContent-CfgmT6uf.js";import{O as c,T as m}from"./OverlayTrigger-Cq1xmpeu.js";import"./Header-CD84b1cW.js";import"./Sidebar-Drm6TH6A.js";import"./bootstrap.bundle.min-BWQMyn1D.js";import"./NavLink-lbotXNTD.js";import"./Dropdown-CmfadxWU.js";import"./transition-CHBtRj2X.js";import"./es-CcTx2m4K.js";import"./floating-ui.dom-CQJTMakY.js";import"./typeof-QjJsDpFa.js";function oe({auth:_,session:O,title:p,subtitle:j,users:r,queryParams:n={},availableLocales:w}){const l=typeof n=="object"&&n!==null?n:{},s=D(),a=[{key:"name",label:s("nombre"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:s("nombre_filtrar")},{key:"created_at",label:s("fecha_alta"),sort:!0,filter:"date",class_th:"text-center",class_td:"text-end",placeholder:s("fecha_alta"),dateKeys:["date_from","date_to"]},{key:"email",label:s("email"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:s("email_filtrar")},{key:"phones",label:s("telefonos"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:s("telefonos_filtrar")},{key:"categories",label:s("categoria"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:s("categorias_filtrar")},{key:"avatar",label:s("imagen"),sort:!1,filter:"",type:"image",icon:"user-tie",class_th:"text-center",class_td:"text-center",placeholder:""}],{permissions:d,sortParams:u,perPage:x,setPerPage:b,visibleColumns:o,toggleColumnVisibility:g,SearchFieldChanged:y,sortChanged:N,filteredData:v}=R({table:"tblUsers",allColumnKeys:a.map(t=>t.key),entityName:"users",indexRoute:"users.index",destroyRoute:"users.destroy",filteredDataRoute:"users.filtered-data",labelName:"usuarios",queryParams:l}),h=[];return d!=null&&d["users.create"]&&h.push({text:s("usuario_nuevo"),icon:"la-plus",url:"users.create",modal:!1}),e.jsxs(P,{user:_.user,title:p,subtitle:j,actions:h,children:[e.jsx(k,{title:p}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(S,{columns:a,visibleColumns:o,toggleColumn:g}),e.jsx(T,{perPage:x,setPerPage:b}),e.jsx(q,{filename:s("usuarios"),columns:a,fetchData:v})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(E,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblUsers",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[a.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${o.includes(t.key)?"":"d-none"}`.trim(),children:[s(t.label),t.sort&&e.jsx(A,{name:t.key,sortable:!0,sort_field:l.sort_field,sort_direction:l.sort_direction,sortChanged:N})]},t.key)),e.jsx("th",{className:"text-center",children:s("acciones")})]})}),e.jsx(F,{columns:a,queryParams:l,visibleColumns:o,SearchFieldChanged:y}),e.jsx("tbody",{children:r.data.map(t=>e.jsxs("tr",{children:[a.map(i=>e.jsx("td",{className:`${i.class_td??""} ${o.includes(i.key)?"":"d-none"}`.trim(),children:K(t[i.key],i,t)},i.key)),e.jsxs("td",{className:"text-end",children:[e.jsx(c,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:t.status==1?s("usuario_activo"):s("usuario_inactivo")}),children:e.jsx(U,{status:t.status,id:t.id,updateRoute:"users.status",reloadUrl:route("users.index"),reloadResource:"users"})},"status-"+t.id),e.jsx(c,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:s("editar")}),children:e.jsx(f,{href:route("users.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+t.id),e.jsx(c,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:s("eliminar")}),children:e.jsx(f,{href:route("users.destroy",t.id),className:"btn btn-sm btn-danger ms-1",title:s("eliminar"),children:e.jsx("i",{className:"la la-trash"})})},"delete-"+t.id)]})]},t.id))})]})}),e.jsx($,{links:r.meta.links,totalRecords:r.meta.total,currentPage:r.meta.current_page,perPage:r.meta.per_page,onPageChange:t=>{C.get(route("users.index"),{...l,page:t,per_page:x,sort_field:u.sort_field,sort_direction:u.sort_direction},{preserveState:!0})}})]})]})}export{oe as default};
