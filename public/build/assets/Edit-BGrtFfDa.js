import{X as w,r as i,G as T,j as t,S as U}from"./app-DRj95fl3.js";import{A as g}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";import"./Header-sOAC_5kI.js";import"./react-tooltip.min-B6vStgXO.js";import{T as S}from"./Tabs-BWc7QsVQ.js";import"./TextInput-DHZ4LhQ-.js";import{u as k}from"./useSweetAlert-D-bXTlQV.js";import{u as A}from"./useTranslation-BmHTxgDU.js";import{M}from"./ModalUserCreate-D5Ay9m7S.js";import N from"./CompanyInfoTab-BWorQvPk.js";import I from"./CompanyUsersTab-CYkmP0yf.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./OverlayTrigger-BXbmHDr2.js";import"./floating-ui.dom-CQJTMakY.js";import"./DatePickerToForm-BaY77Ky7.js";import"./es-D0X2UUFm.js";/* empty css                         */import"./InputError-DR469WsC.js";import"./ModalTemplate-Y_YppmN-.js";import"./SelectInput-CcScNE44.js";import"./FileInput-si-eiBrJ.js";import"./InfoPopover-DBtQ7ev6.js";import"./PrimaryButton-CT79ceK8.js";import"./useTableManagement-4XK40PxX.js";import"./TableExporter-Cf6Xvvy9.js";import"./FileSaver.min-Bs0fFUdx.js";import"./typeof-QjJsDpFa.js";import"./StatusButton-CIImyXxq.js";import"./renderCellContent-C4U_4bOx.js";import"./Table-CUvKlSmp.js";function _e({auth:p,session:R,title:n,subtitle:u,customer:s,relation:o,users:x,rows:f,salutations:h,tab:m,availableLocales:E}){var d;const a=A(),l=((d=w())==null?void 0:d.props)||{};l.locale,l.languages,k();const e=l.permissions||{},[K,P]=i.useState(m||"info");T({name:s.name||"",status:o.status});const[j,c]=i.useState(!1),[z,_]=i.useState(0),b=()=>c(!0),v=()=>c(!1),C=()=>_(y=>y+1),r=[];return e!=null&&e["customers.index"]&&r.push({text:a("clientes_volver"),icon:"la-angle-left",url:"customers.index",modal:!1}),e!=null&&e["customers.create"]&&r.push({text:a("cliente_nuevo"),icon:"la-plus",url:"customers.create",modal:!1}),e!=null&&e["users.create"]&&r.push({text:a("usuario_nuevo"),icon:"la-plus",url:"",modal:!0,onClick:b}),e!=null&&e["workplaces.index"]&&r.push({text:a("centros_trabajo"),icon:"la-map-marker-alt",url:"workplaces.index",params:[s.id],modal:!1}),e!=null&&e["cost-centers.index"]&&r.push({text:a("centros_coste"),icon:"la-comment-dollar",url:"cost-centers.index",params:[s.id],modal:!1}),e!=null&&e["customers.destroy"]&&r.push({text:a("eliminar"),icon:"la-trash",method:"delete",url:"customers.destroy",params:[o.id],title:a("cliente_eliminar"),message:a("cliente_eliminar_confirm"),modal:!1}),t.jsxs(g,{user:p.user,title:n,subtitle:u,actions:r,children:[t.jsx(U,{title:n}),t.jsxs("div",{className:"contents pb-4",children:[t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsxs("h2",{children:[a("cliente")," ",t.jsx("u",{children:s.name})]})}),t.jsxs("div",{className:"col-12 mt-2 mb-4",children:[t.jsxs("span",{className:"text-muted me-5",children:[a("creado"),": ",t.jsx("strong",{children:o.formatted_created_at})]}),t.jsxs("span",{className:"text-muted",children:[a("actualizado"),": ",t.jsx("strong",{children:o.formatted_updated_at})]})]})]}),t.jsx(S,{tabs:[{key:"info",label:a("informacion_general"),content:t.jsx(N,{company:s,side:"customers",updateRoute:"companies.update",updateParams:[s.id]})},{key:"users",label:a("usuarios"),content:t.jsx(I,{users:x??null,rows:f??[],indexRoute:"customers.edit",indexParams:s.id,tableId:"tblCompanyUsers"})}],defaultActive:m}),t.jsx(M,{show:j,onClose:v,onCreate:C,companyId:s.id,side:"customers",salutations:h})]})]})}export{_e as default};
