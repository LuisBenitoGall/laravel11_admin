import{j as e,S as N,A as C}from"./app-DRj95fl3.js";import{A as P}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";import{u as k,C as v,R as T,S as R,F as S,P as A}from"./useTableManagement-4XK40PxX.js";import"./StatusButton-CIImyXxq.js";import{T as D}from"./TableExporter-Cf6Xvvy9.js";import"./useSweetAlert-D-bXTlQV.js";import{u as F}from"./useTranslation-BmHTxgDU.js";import{r as $}from"./renderCellContent-C4U_4bOx.js";import{T as q}from"./Table-CUvKlSmp.js";import{O as E,T as O}from"./OverlayTrigger-BXbmHDr2.js";import"./Header-sOAC_5kI.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./TextInput-DHZ4LhQ-.js";import"./es-D0X2UUFm.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-CcScNE44.js";import"./FileSaver.min-Bs0fFUdx.js";import"./typeof-QjJsDpFa.js";function oe({auth:u,session:w,title:d,subtitle:h,permisos:i,queryParams:m={},availableLocales:I}){const l=typeof m=="object"&&m!==null?m:{},s=F(),a=[{key:"name",label:s("permiso"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:s("permiso_filtrar")},{key:"functionality",label:s("funcionalidad"),sort:!1,class_th:"",class_td:""}],{permissions:r,sortParams:c,perPage:p,setPerPage:j,visibleColumns:n,toggleColumnVisibility:f,SearchFieldChanged:b,sortChanged:g,filteredData:y,handleDelete:_}=k({table:"tblPermissions",allColumnKeys:a.map(t=>t.key),entityName:"permissions",indexRoute:"permissions.index",destroyRoute:"permissions.destroy",filteredDataRoute:"permissions.filtered-data",labelName:"permiso",queryParams:l}),x=[];return r!=null&&r["permissions.create"]&&x.push({text:s("permiso_nuevo"),icon:"la-plus",url:"permissions.create",modal:!1}),e.jsxs(P,{user:u.user,title:d,subtitle:h,actions:x,children:[e.jsx(N,{title:d}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center ms-auto",children:[e.jsx(v,{columns:a,visibleColumns:n,toggleColumn:f}),e.jsx(T,{perPage:p,setPerPage:j}),e.jsx(D,{filename:s("permisos"),columns:a,fetchData:y})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(q,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblPermissions",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[a.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${n.includes(t.key)?"":"d-none"}`.trim(),children:[s(t.label),t.sort&&e.jsx(R,{name:t.key,sortable:!0,sort_field:l.sort_field,sort_direction:l.sort_direction,sortChanged:g})]},t.key)),e.jsx("th",{className:"text-center",children:s("acciones")})]})}),e.jsx(S,{columns:a,queryParams:l,visibleColumns:n,SearchFieldChanged:b}),e.jsx("tbody",{children:i.data.map(t=>e.jsxs("tr",{children:[a.map(o=>e.jsx("td",{className:`${o.class_td??""} ${n.includes(o.key)?"":"d-none"}`.trim(),children:$(t[o.key],o,t)},o.key)),e.jsx("td",{className:"text-end",children:(r==null?void 0:r["permissions.destroy"])&&e.jsx(E,{placement:"top",overlay:e.jsx(O,{className:"ttp-top",children:s("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>_(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)})]},"permission-"+t.id))})]})}),e.jsx(A,{links:i.meta.links,totalRecords:i.meta.total,currentPage:i.meta.current_page,perPage:i.meta.per_page,onPageChange:t=>{C.get(route("permissions.index"),{...l,page:t,per_page:p,sort_field:c.sort_field,sort_direction:c.sort_direction},{preserveState:!0})}})]})]})}export{oe as default};
