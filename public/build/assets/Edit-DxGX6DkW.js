import{X as y,G as F,r as S,j as e,S as C,A as E}from"./app-D2BBDCFC.js";import{A as I}from"./AdminAuthenticatedLayout-BpRIVWHk.js";import{C as L}from"./Checkbox-CbGRJxKs.js";import{I as u}from"./InfoPopover-C7FUp5XC.js";import{I as x}from"./InputError-BrT6sb3o.js";import{P as A}from"./PrimaryButton-ML6K15LR.js";import"./draftjs-to-html-BdN-nRo8.js";import{T as h}from"./TextInput-WxNO9k3W.js";import{u as D}from"./useTranslation-CVJluGRe.js";import"./Header-BKPdAUPJ.js";import"./useSweetAlert-D27GvFwx.js";import"./OverlayTrigger-D8mD9LjI.js";import"./Sidebar-CyvRIWTq.js";import"./bootstrap.bundle.min-Ba_qfNiZ.js";import"./NavLink-DsoYfajC.js";import"./Dropdown-DDVnA8hG.js";import"./transition-DtKZpb_s.js";function Y({auth:g,session:P,title:j,subtitle:v,availableLocales:w,currency:l}){var f;const s=D(),p=((f=y())==null?void 0:f.props)||{};p.locale,p.languages;const o=p.permissions||{},{data:r,setData:m,processing:b}=F({name:l.name||"",status:l.status,code:l.code||"",number:l.number||"",symbol:l.symbol||""}),[c,N]=S.useState({});function _(a){a.preventDefault();const i=new FormData;i.append("_method","PUT"),Object.entries(r).forEach(([n,t])=>{n==="logo"&&t instanceof File?i.append(n,t):typeof t=="object"&&t!==null?i.append(n,JSON.stringify(t)):t!=null&&i.append(n,t)}),E.post(route("currencies.update",l.id),i,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Moneda actualizada"),onError:n=>N(n),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const d=[];return o!=null&&o["currencies.index"]&&d.push({text:s("monedas_volver"),icon:"la-angle-left",url:"currencies.index",modal:!1}),o!=null&&o["currencies.create"]&&d.push({text:s("moneda_nueva"),icon:"la-plus",url:"currencies.create",modal:!1}),o!=null&&o["currencies.destroy"]&&d.push({text:s("eliminar"),icon:"la-trash",method:"delete",url:"currencies.destroy",params:[l.id],title:s("moneda_eliminar"),message:s("moneda_eliminar_confirm"),modal:!1}),e.jsxs(I,{user:g.user,title:j,subtitle:v,actions:d,children:[e.jsx(C,{title:j}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[s("moneda")," ",e.jsx("u",{children:l.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[s("creado"),": ",e.jsx("strong",{children:l.formatted_created_at})]}),e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado"),": ",e.jsx("strong",{children:l.formatted_updated_at})]})]})]}),e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"row gy-3 mb-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[s("moneda"),"*"]}),e.jsx(h,{type:"text",name:"name",value:r.name,onChange:a=>m("name",a.target.value),maxLength:100,required:!0}),e.jsx(x,{message:c.name})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:s("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(L,{className:"xl",name:"status",checked:r.status,onChange:a=>m("status",a.target.checked)})})]})})]}),e.jsxs("div",{className:"row gy-3",children:[e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"code",className:"form-label",children:s("codigo")}),e.jsx(h,{className:"",type:"text",name:"code",placeholder:s("codigo"),value:r.code,onChange:a=>m("code",a.target.value),maxLength:3}),e.jsx(u,{code:"currency-code"}),e.jsx(x,{message:c.code})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"number",className:"form-label",children:[s("numero")," ISO"]}),e.jsx(h,{className:"",type:"text",name:"number",placeholder:s("numero"),value:r.number,onChange:a=>m("number",a.target.value),maxLength:4}),e.jsx(u,{code:"currency-number"}),e.jsx(x,{message:c.number})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"symbol",className:"form-label",children:s("simbolo")}),e.jsx(h,{className:"",type:"text",name:"symbol",placeholder:s("simbolo"),value:r.symbol,onChange:a=>m("symbol",a.target.value),maxLength:2}),e.jsx(u,{code:"currency-symbol"}),e.jsx(x,{message:c.symbol})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(A,{disabled:b,className:"btn btn-rdn",children:b?s("procesando")+"...":s("guardar")})})]})]})]})}export{Y as default};
