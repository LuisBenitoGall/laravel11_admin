import{X as F,G as S,r as E,j as e,S as L,A as D}from"./app-ipN4Lpei.js";import{A as q}from"./AdminAuthenticatedLayout-Dnf9viHk.js";import{C as v}from"./Checkbox-C1MJcpfW.js";import{I as m}from"./InputError-BRgDUzXy.js";import{P as A}from"./PrimaryButton-BZCXfhHb.js";import{S as _}from"./SelectSearch-Dj3dGkFf.js";import{T as x}from"./TextInput-CkCvusrN.js";import{u as z}from"./useTranslation-C25qZZp5.js";import"./Header-bG4uIAmT.js";import"./useSweetAlert-CmWHaLPS.js";import"./OverlayTrigger-p_uRoGhW.js";import"./Sidebar-Dzqm1Vbq.js";import"./bootstrap.bundle.min-C7oov5VN.js";import"./NavLink-BFjf2yvp.js";import"./Dropdown-DaycTqil.js";import"./transition-B_klRBgP.js";import"./Select-aab027f3.esm-FB-Rrkkl.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";import"./floating-ui.dom-CQJTMakY.js";function te({auth:N,session:I,title:f,subtitle:y,account:t,banks:h,accounting_accounts:p,availableLocales:P}){var b;const s=z(),j=((b=F())==null?void 0:b.props)||{};j.locale,j.languages;const r=j.permissions||{},{data:l,setData:i,errors:d,processing:g}=S({accounting_account_id:t.accounting_account_id||"",bank_id:t.bank_id||"",country_code:t.country_code||"",entity:t.entity||"",office:t.office||"",dc:t.dc||"",digits:t.digits||"",featured:t.featured,status:t.status}),[T,k]=E.useState({});function C(a){a.preventDefault();const c=new FormData;c.append("_method","PUT"),Object.entries(l).forEach(([o,n])=>{o==="logo"&&n instanceof File?c.append(o,n):typeof n=="object"&&n!==null?c.append(o,JSON.stringify(n)):n!=null&&c.append(o,n)}),D.post(route("bank-accounts.update",t.id),c,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Cuenta actualizada"),onError:o=>k(o),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const u=[];return r!=null&&r["bank-accounts.index"]&&u.push({text:s("bancos_cuentas_volver"),icon:"la-angle-left",url:"bank-accounts.index",modal:!1}),r!=null&&r["bank-accounts.create"]&&u.push({text:s("cuenta_nueva"),icon:"la-plus",url:"bank-accounts.create",modal:!1}),r!=null&&r["bank-accounts.destroy"]&&u.push({text:s("eliminar"),icon:"la-trash",method:"delete",url:"bank-accounts.destroy",params:[t.id],title:s("cuenta_eliminar"),message:s("cuenta_eliminar_confirm"),modal:!1}),e.jsxs(q,{user:N.user,title:f,subtitle:y,actions:u,children:[e.jsx(L,{title:f}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[s("cuenta")," ",e.jsx("u",{children:t.iban})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[s("creado"),": ",e.jsx("strong",{children:t.formatted_created_at})]}),t.created_by_name&&e.jsxs("span",{className:"text-muted me-5",children:[s("creado_por"),": ",e.jsx("strong",{children:t.created_by_name})]}),e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado"),": ",e.jsx("strong",{children:t.formatted_updated_at})]}),t.updated_by_name&&e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado_por"),": ",e.jsx("strong",{children:t.updated_by_name})]})]})]}),e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"row gy-3 mb-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bank_id",className:"form-label",children:[s("banco"),"*"]}),e.jsx(_,{name:"bank_id",options:h?Object.entries(h).map(([a,c])=>({value:a,label:c})):[],onChange:a=>i("bank_id",a?a.value:""),value:h[l.bank_id]?{value:l.bank_id,label:h[l.bank_id]}:null,required:!0,placeholder:s("banco_selec")})]})}),e.jsx("div",{className:"col-lg-2 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"featured",className:"form-label",children:s("cuenta_principal")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(v,{className:"xl",name:"featured",checked:l.featured,onChange:a=>i("featured",a.target.checked)})})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:s("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(v,{className:"xl",name:"status",checked:l.status,onChange:a=>i("status",a.target.checked)})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"accounting_account_id",className:"form-label",children:s("cuenta_contable")}),e.jsx(_,{name:"accounting_account_id",options:p?Object.keys(p).map(a=>({value:a,label:p[a]})):[],onChange:a=>i("accounting_account_id",a?a.value:""),value:l.accounting_account_id,placeholder:s("cuenta_contable_selec")})]})}),e.jsx("div",{className:"m-0"}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"country_code",className:"form-label",children:[s("pais"),"*"]}),e.jsx(x,{name:"country_code",className:"text-end",type:"text",value:l.country_code,onChange:a=>i("country_code",a.target.value),maxLength:4,placeholder:"- - - -"}),e.jsx(m,{message:d.country_code})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"entity",className:"form-label",children:[s("entidad"),"*"]}),e.jsx(x,{name:"entity",className:"text-end",type:"text",value:l.entity,onChange:a=>i("entity",a.target.value),maxLength:4,placeholder:"- - - -",required:!0}),e.jsx(m,{message:d.entity})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"office",className:"form-label",children:[s("oficina"),"*"]}),e.jsx(x,{name:"office",className:"text-end",type:"text",value:l.office,onChange:a=>i("office",a.target.value),maxLength:4,placeholder:"- - - -",required:!0}),e.jsx(m,{message:d.office})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"dc",className:"form-label",children:[s("DC"),"*"]}),e.jsx(x,{name:"dc",className:"text-end",type:"text",value:l.dc,onChange:a=>i("dc",a.target.value),maxLength:2,placeholder:"- -",required:!0}),e.jsx(m,{message:d.dc})]})}),e.jsx("div",{className:"col-lg-4",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("label",{htmlFor:"digits",className:"form-label",children:[s("cuenta"),"*"]}),e.jsx(x,{name:"digits",className:"text-end",type:"text",value:l.digits,onChange:a=>i("digits",a.target.value),maxLength:10,placeholder:"- - - - - - - - - -",required:!0}),e.jsx(m,{message:d.digits})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(A,{disabled:g,className:"btn btn-rdn",children:g?s("procesando")+"...":s("guardar")})})]})]})]})}export{te as default};
