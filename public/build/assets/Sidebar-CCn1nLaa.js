import{X as G,r as h,a as H,j as e,x as o}from"./app-Vy3k0dXk.js";import{b as J}from"./bootstrap.bundle.min-B2fMu5hW.js";import{N as t}from"./NavLink-1EYN7PL6.js";import{u as K}from"./useTranslation-bNzddkut.js";function k(){let r={};try{r=G().props}catch(n){console.error("Error en usePage():",n)}return r||{}}const Q=()=>{var n;const r=((n=k())==null?void 0:n.sessionData)??{};return{currentCompany:r.currentCompany??null,companyModules:Array.isArray(r.companyModules)?r.companyModules:[],companySettings:r.companySettings??null}};function V(r){var f;const n=K(),N=n("areas_negocio"),w=n("bancos"),_=n("centros_coste"),b=n("centros_trabajo"),$=n("clientes"),p=n("configuracion"),y=n("contables_grupos"),A=n("contenidos"),S=n("cuenta"),C=n("cuenta_mi"),M=n("cuentas"),E=n("empresas"),O=n("empresas_mis"),P=n("iva_tipos"),j=n("modulos"),U=n("monedas"),D=n("paises"),R=n("permisos"),W=n("proveedores"),I=n("roles"),T=n("stock_movimientos"),q=n("unidades"),z=n("usuarios"),L=n("usuarios_listados"),[X,Y]=h.useState(!0),[u,v]=h.useState([]),B=k(),{currentCompany:g,companyModules:m,companySettings:x}=Q(),{module:d,slug:a}=B;return h.useEffect(()=>{if(document.querySelectorAll('.menu-link[data-bs-toggle="collapse"]').forEach(s=>{new J.Collapse(s,{toggle:!1})}),!Array.isArray(m)||m.length===0||!g){v([]);return}H.get("/secondary-menu").then(s=>{const l=s.data.filter(c=>m.includes(c.id));v(l)}).catch(s=>console.error("Error fetching secondary menu:",s))},[m.length,g]),e.jsxs("div",{className:`app-menu navbar-menu ${X?"show":"hide"}`,children:[e.jsx("div",{className:"navbar-brand-box",children:e.jsxs(o,{href:route("dashboard.index"),className:"logo",children:[e.jsx("span",{className:"logo-sm",children:e.jsx("img",{src:"/img/logo-amdt.png",alt:"Radnify",className:"img-fluid p-3"})}),e.jsx("span",{className:"logo-lg",children:e.jsx("img",{src:"/img/logo-amdt.png",alt:"Radnify",className:"img-fluid p-3"})})]})}),e.jsx("div",{className:"company-logo text-center",children:((f=x==null?void 0:x.company)==null?void 0:f.logo)&&(()=>{var c;const s=x.company.logo;let l="";if(typeof s=="string"){const i=s.trim();i===""?l="":i.startsWith("http")||i.startsWith("//")||i.startsWith("/")?l=i:i.includes("storage/")?l="/"+i.replace(/^\/+/,""):i.includes("companies/")?l="/storage/"+i.replace(/^\/+/,""):l=`/storage/companies/${i.replace(/^\/+/,"")}`}return l?e.jsx("img",{src:l,alt:((c=x.company)==null?void 0:c.name)||"",className:"img-fluid"}):null})()}),e.jsx("div",{id:"scrollbar",children:e.jsx("div",{id:"sidebar-menu",children:e.jsxs("ul",{className:"navbar-nav mt-3",id:"navbar-nav",children:[(()=>{const s=d==="dashboard";return e.jsx("li",{className:`nav-item ${s?"active text-white":""}`,children:e.jsxs(o,{href:route("dashboard.index"),className:`nav-link menu-link ${s?"active text-white":""}`,active:route().current("dashboard.index").toString(),children:[e.jsx("i",{className:"la la-home"}),e.jsx("span",{children:"Dashboard"})]})})})(),(()=>{const s=d==="company-accounts";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(o,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuMyAccount",role:"button","aria-expanded":s,"aria-controls":"menuMyAccount",children:[e.jsx("i",{className:"la la-user-circle"}),e.jsx("span",{children:C})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuMyAccount",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("company-accounts.index"),className:`nav-link menu-link ${a==="company-accounts"?"active text-white":""}`,children:e.jsx("span",{children:S})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-modules.index"),className:`nav-link menu-link ${a==="company-modules"?"active text-white":""}`,children:e.jsx("span",{children:j})})})]})})]})})(),(()=>{const s=d==="settings";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(o,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuSettings",role:"button","aria-expanded":s,"aria-controls":"menuSettings",children:[e.jsx("i",{className:"la la-cog"}),e.jsx("span",{children:p})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuSettings",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("accounts.index"),className:`nav-link menu-link ${a==="accounts"?"active text-white":""}`,children:e.jsx("span",{children:M})})}),e.jsx("li",{children:e.jsx(t,{href:route("modules.index"),className:`nav-link menu-link ${a==="modules"?"active text-white":""}`,children:e.jsx("span",{children:j})})}),e.jsx("li",{children:e.jsx(t,{href:route("roles.index"),className:`nav-link menu-link ${a==="roles"?"active text-white":""}`,children:e.jsx("span",{children:I})})}),e.jsx("li",{children:e.jsx(t,{href:route("permissions.index"),className:`nav-link menu-link ${a==="permissions"?"active text-white":""}`,children:e.jsx("span",{children:R})})}),e.jsx("li",{children:e.jsx(t,{href:route("currencies.index"),className:`nav-link menu-link ${a==="currencies"?"active text-white":""}`,children:e.jsx("span",{children:U})})}),e.jsx("li",{children:e.jsx(t,{href:route("banks.index"),className:`nav-link menu-link ${a==="banks"?"active text-white":""}`,children:e.jsx("span",{children:w})})}),e.jsx("li",{children:e.jsx(t,{href:route("countries.index"),className:`nav-link menu-link ${a==="countries"?"active text-white":""}`,children:e.jsx("span",{children:D})})}),e.jsx("li",{children:e.jsx(t,{href:route("contents.index"),className:`nav-link menu-link ${a==="contents"?"active text-white":""}`,children:e.jsx("span",{children:A})})}),e.jsx("li",{children:e.jsx(t,{href:route("stock-movements.index"),className:`nav-link menu-link ${a==="stock-movements"?"active text-white":""}`,children:e.jsx("span",{children:T})})}),e.jsx("li",{children:e.jsx(t,{href:route("units.index"),className:`nav-link menu-link ${a==="units"?"active text-white":""}`,children:e.jsx("span",{children:q})})}),e.jsx("li",{children:e.jsx(t,{href:route("iva-types.index"),className:`nav-link menu-link ${a==="iva-types"?"active text-white":""}`,children:e.jsx("span",{children:P})})}),e.jsx("li",{children:e.jsx(t,{href:route("accounting-account-types.index"),className:`nav-link menu-link ${a==="accounting-account-types"?"active text-white":""}`,children:e.jsx("span",{children:y})})})]})})]})})(),(()=>{const s=d==="users";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(o,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuUsers",role:"button","aria-expanded":s,"aria-controls":"menuUsers",children:[e.jsx("i",{className:"la la-users"}),e.jsx("span",{children:z})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuUsers",children:e.jsx("ul",{className:"nav nav-sm flex-column",children:e.jsx("li",{children:e.jsx(t,{href:route("users.index"),className:`nav-link menu-link ${a==="users"?"active text-white":""}`,children:e.jsx("span",{children:L})})})})})]})})(),(()=>{const s=d==="companies";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(o,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuCompanies",role:"button","aria-expanded":s,"aria-controls":"menuCompanies",children:[e.jsx("i",{className:"la la-building"}),e.jsx("span",{children:E})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuCompanies",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("companies.index"),className:`nav-link menu-link ${a==="companies"?"active text-white":""}`,children:e.jsx("span",{children:O})})}),e.jsx("li",{children:e.jsx(t,{href:route("business-areas.index"),className:`nav-link menu-link ${a==="business-areas"?"active text-white":""}`,children:e.jsx("span",{children:N})})}),e.jsx("li",{children:e.jsx(t,{href:route("cost-centers.index"),className:`nav-link menu-link ${a==="cost-centers"?"active text-white":""}`,children:e.jsx("span",{children:_})})}),e.jsx("li",{children:e.jsx(t,{href:route("workplaces.index"),className:`nav-link menu-link ${a==="workplaces"?"active text-white":""}`,children:e.jsx("span",{children:b})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-settings.index"),className:`nav-link menu-link ${a==="company-settings"?"active text-white":""}`,children:e.jsx("span",{children:p})})}),e.jsx("li",{children:e.jsx(t,{href:route("customers.index"),className:`nav-link menu-link ${a==="customers"?"active text-white":""}`,children:e.jsx("span",{children:$})})}),e.jsx("li",{children:e.jsx(t,{href:route("providers.index"),className:`nav-link menu-link ${a==="providers"?"active text-white":""}`,children:e.jsx("span",{children:W})})})]})})]})})(),Array.isArray(u)&&u.length>0?u.map(s=>{const l=`menu${s.slug.charAt(0).toUpperCase()+s.slug.slice(1)}`,c=d===s.slug;return e.jsxs("li",{className:`nav-item ${c?"active text-white":""}`,children:[e.jsxs(o,{href:"#",className:`nav-link menu-link ${c?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":`#${l}`,role:"button","aria-expanded":c,"aria-controls":l,children:[e.jsx("i",{className:`la la-${s.icon}`}),e.jsx("span",{children:s.label})]}),Array.isArray(s.functionalities)&&s.functionalities.length>0&&e.jsx("div",{className:`collapse menu-dropdown ${c?"show":""}`,id:l,children:e.jsx("ul",{className:"nav nav-sm flex-column",children:s.functionalities.map(i=>{const F=a===i.slug;return e.jsx("li",{className:"nav-item",children:e.jsx(t,{href:route(`${i.slug}.index`).toString(),className:`nav-link ${F?"active text-white":""}`,children:e.jsx("span",{children:i.label})})},i.id)})})})]},s.id)}):e.jsx("li",{className:"nav-item",children:e.jsx("span",{className:"text-white"})})]})})})]})}const ae=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}));export{V as S,ae as a,Q as u};
