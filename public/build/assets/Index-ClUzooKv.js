import{j as e,S as y,A as k}from"./app-ipN4Lpei.js";import{A as N}from"./AdminAuthenticatedLayout-Dnf9viHk.js";/* empty css                         */import{u as v,C,R as P,S as R,F as S,P as T}from"./useTableManagement-ok2MqPin.js";import{S as A}from"./StatusButton-DCRJzntl.js";import{u as F}from"./useTranslation-C25qZZp5.js";import{O as $,T as B}from"./OverlayTrigger-p_uRoGhW.js";import"./Header-bG4uIAmT.js";import"./TextInput-CkCvusrN.js";import"./useSweetAlert-CmWHaLPS.js";import"./Sidebar-Dzqm1Vbq.js";import"./bootstrap.bundle.min-C7oov5VN.js";import"./NavLink-BFjf2yvp.js";import"./Dropdown-DaycTqil.js";import"./transition-B_klRBgP.js";import"./es-dSXlHLzL.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-D0rCu0qC.js";function ee({auth:p,session:q,title:c,subtitle:b,businessAreas:i,queryParams:d={},availableLocales:D}){const n=typeof d=="object"&&d!==null?d:{},a=F(),l=[{key:"name",label:a("nombre"),sort:!0,filter:"text",type:"link",link:"business-areas.edit",placeholder:a("nombre_filtrar")},{key:"created_at",label:a("fecha_alta"),sort:!0,filter:"date",class_th:"text-center",class_td:"text-end",placeholder:a("fecha_alta"),dateKeys:["date_from","date_to"]}],{permissions:s,sortParams:m,perPage:u,setPerPage:h,visibleColumns:o,toggleColumnVisibility:j,SearchFieldChanged:_,sortChanged:f,handleDelete:g}=v({table:"tblBusinessAreas",allColumnKeys:l.map(t=>t.key),entityName:"businessAreas",indexRoute:"business-areas.index",destroyRoute:"business-areas.destroy",filteredDataRoute:"business-areas.filtered-data",labelName:"area_negocio",queryParams:n}),x=[];return s!=null&&s["business-areas.create"]&&x.push({text:a("area_negocio_nueva"),icon:"la-plus",url:"business-areas.create",modal:!1}),e.jsxs(N,{user:p.user,title:c,subtitle:b,actions:x,children:[e.jsx(y,{title:c}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(C,{columns:l,visibleColumns:o,toggleColumn:j}),e.jsx(P,{perPage:u,setPerPage:h})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-nowrap table-striped align-middle mb-0",id:"tblBusinessAreas",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[l.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${o.includes(t.key)?"":"d-none"}`.trim(),children:[a(t.label),t.sort&&e.jsx(R,{name:t.key,sortable:!0,sort_field:n.sort_field,sort_direction:n.sort_direction,sortChanged:f})]},t.key)),e.jsx("th",{className:"text-center",children:a("acciones")})]})}),e.jsx(S,{columns:l,queryParams:n,visibleColumns:o,SearchFieldChanged:_}),e.jsx("tbody",{children:i.data.map(t=>e.jsxs("tr",{children:[l.map(r=>e.jsx("td",{className:`${r.class_td??""} ${o.includes(r.key)?"":"d-none"}`.trim(),children:r.type==="link"&&r.key!=="name"?e.jsx("a",{href:route(r.link,t.id),children:t[r.key]}):t[r.key]},r.key)),e.jsxs("td",{className:"text-end",children:[(s==null?void 0:s["business-areas.edit"])&&e.jsx($,{placement:"top",overlay:e.jsx(B,{className:"ttp-top",children:t.status==1?a("centro_activo"):a("centro_inactivo")}),children:e.jsx(A,{status:t.status,id:t.id,updateRoute:"business-areas.status",reloadUrl:route("business-areas.index"),reloadResource:"business-areas"})},"status-"+t.id),(s==null?void 0:s["business-areas.edit"])&&e.jsx("a",{href:route("business-areas.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})}),(s==null?void 0:s["business-areas.destroy"])&&e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>g(t.id),children:e.jsx("i",{className:"la la-trash"})})]})]},"area-"+t.id))})]})}),e.jsx(T,{links:i.meta.links,totalRecords:i.meta.total,currentPage:i.meta.current_page,perPage:i.meta.per_page,onPageChange:t=>{k.get(route("business-areas.index"),{...n,page:t,per_page:u,sort_field:m.sort_field,sort_direction:m.sort_direction},{preserveState:!0})}})]})]})}export{ee as default};
