import{j as e,S as k,x as C,A as P}from"./app-ipN4Lpei.js";import{A as R}from"./AdminAuthenticatedLayout-Dnf9viHk.js";import{u as A,C as S,R as T,S as D,F,P as $}from"./useTableManagement-ok2MqPin.js";import{S as q}from"./StatusButton-DCRJzntl.js";import{T as E,a as O}from"./TableExporter-DGl194Wv.js";import"./useSweetAlert-CmWHaLPS.js";import{u as w}from"./useTranslation-C25qZZp5.js";import{r as B}from"./renderCellContent-DIZkmWKW.js";import{O as u,T as m}from"./OverlayTrigger-p_uRoGhW.js";import"./Header-bG4uIAmT.js";import"./TextInput-CkCvusrN.js";import"./Sidebar-Dzqm1Vbq.js";import"./bootstrap.bundle.min-C7oov5VN.js";import"./NavLink-BFjf2yvp.js";import"./Dropdown-DaycTqil.js";import"./transition-B_klRBgP.js";import"./es-dSXlHLzL.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-D0rCu0qC.js";import"./typeof-QjJsDpFa.js";function ie({auth:g,session:I,title:p,subtitle:f,accounts:r,queryParams:c=null,availableLocales:K}){const l=typeof c=="object"&&c!==null?c:{},a=w(),n=[{key:"code",label:a("cuenta"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("codigo_filtrar")},{key:"name",label:a("nombre"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("nombre_filtrar")},{key:"company",label:a("empresa"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("empresa_filtrar")},{key:"nature",label:a("tipo_contable"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("tipo_filtrar")}],{permissions:s,sortParams:x,perPage:h,setPerPage:j,visibleColumns:o,toggleColumnVisibility:b,SearchFieldChanged:_,sortChanged:y,filteredData:v,handleDelete:N}=A({table:"tblAccountingAccounts",allColumnKeys:n.map(t=>t.key),entityName:"accounting_accounts",indexRoute:"accounting-accounts.index",destroyRoute:"accounting-accounts.destroy",filteredDataRoute:"accounting-accounts.filtered-data",labelName:"cuenta_contable",queryParams:l}),d=[];return s!=null&&s["accounting-accounts.create"]&&d.push({text:a("cuenta_nueva"),icon:"la-plus",url:"accounting-accounts.create",modal:!1}),s!=null&&s["accounting-accounts.index"]&&d.push({text:a("cuentas_iva"),icon:"la-file-invoice-dollar",url:"accounting-accounts.iva-accounts",modal:!1}),e.jsxs(R,{user:g.user,title:p,subtitle:f,actions:d,children:[e.jsx(k,{title:p}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(S,{columns:n,visibleColumns:o,toggleColumn:b}),e.jsx(T,{perPage:h,setPerPage:j}),e.jsx(E,{filename:a("unidades"),columns:n,fetchData:v})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(O,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblAccountingAccounts",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[n.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${o.includes(t.key)?"":"d-none"}`.trim(),children:[a(t.label),t.sort&&e.jsx(D,{name:t.key,sortable:!0,sort_field:l.sort_field,sort_direction:l.sort_direction,sortChanged:y})]},t.key)),e.jsx("th",{className:"text-center",children:a("acciones")})]})}),e.jsx(F,{columns:n,queryParams:l,visibleColumns:o,SearchFieldChanged:_}),e.jsx("tbody",{children:r.data.map(t=>e.jsxs("tr",{children:[n.map(i=>e.jsx("td",{className:`${i.class_td??""} ${o.includes(i.key)?"":"d-none"}`.trim(),children:B(t[i.key],i,t)},i.key)),e.jsxs("td",{className:"text-end",children:[(s==null?void 0:s["accounting-accounts.edit"])&&e.jsx(u,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:t.status==1?a("cuenta_activa"):a("cuenta_inactiva")}),children:e.jsx(q,{status:t.status,id:t.id,updateRoute:"accounting-accounts.status",reloadUrl:route("accounting-accounts.index"),reloadResource:"accounting-accounts"})},"status-"+t.id),(s==null?void 0:s["accounting-accounts.edit"])&&e.jsx(u,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:a("editar")}),children:e.jsx(C,{href:route("accounting-accounts.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+t.id),(s==null?void 0:s["accounting-accounts.destroy"])&&e.jsx(u,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:a("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>N(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)]})]},"account-"+t.id))})]})}),e.jsx($,{links:r.meta.links,totalRecords:r.meta.total,currentPage:r.meta.current_page,perPage:r.meta.per_page,onPageChange:t=>{P.get(route("accounting-accounts.index"),{...l,page:t,per_page:h,sort_field:x.sort_field,sort_direction:x.sort_direction},{preserveState:!0})}})]})]})}export{ie as default};
