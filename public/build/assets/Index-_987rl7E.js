import{j as t,S as k,x as P,A as C}from"./app-DRj95fl3.js";import{A as R}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";/* empty css                         */import{u as T,C as S,R as A,S as D,F,P as $}from"./useTableManagement-4XK40PxX.js";import{S as q}from"./StatusButton-CIImyXxq.js";import{T as w}from"./TableExporter-Cf6Xvvy9.js";import"./useSweetAlert-D-bXTlQV.js";import{u as E}from"./useTranslation-BmHTxgDU.js";import{r as K}from"./renderCellContent-C4U_4bOx.js";import{T as O}from"./Table-CUvKlSmp.js";import{O as c,T as p}from"./OverlayTrigger-BXbmHDr2.js";import"./Header-sOAC_5kI.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./TextInput-DHZ4LhQ-.js";import"./es-D0X2UUFm.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-CcScNE44.js";import"./FileSaver.min-Bs0fFUdx.js";import"./typeof-QjJsDpFa.js";function ct({auth:j,session:B,title:m,subtitle:f,patterns:o,queryParams:d={},availableLocales:I}){const l=typeof d=="object"&&d!==null?d:{},a=E(),s=[{key:"name",label:a("nombre"),sort:!0,filter:"text",type:"link",link:"product-patterns.edit",class_th:"",class_td:"",placeholder:a("nombre_filtrar")},{key:"preview",label:a("patron"),sort:!1,class_th:"",class_td:"",placeholder:a("patron_filtrar")},{key:"created_at",label:a("fecha_alta"),sort:!0,class_th:"text-center",class_td:"text-end",placeholder:a("fecha_alta"),dateKeys:["date_from","date_to"]}],{permissions:r,sortParams:u,perPage:x,setPerPage:b,visibleColumns:n,toggleColumnVisibility:_,SearchFieldChanged:y,sortChanged:g,filteredData:N,handleDelete:v}=T({table:"tblPatterns",allColumnKeys:s.map(e=>e.key),entityName:"product-patterns",indexRoute:"product-patterns.index",destroyRoute:"product-patterns.destroy",filteredDataRoute:"product-patterns.filtered-data",labelName:"patron",queryParams:l}),h=[];return r!=null&&r["product-patterns.create"]&&h.push({text:a("patron_nuevo"),icon:"la-plus",url:"product-patterns.create",modal:!1}),t.jsxs(R,{user:j.user,title:m,subtitle:f,actions:h,children:[t.jsx(k,{title:m}),t.jsxs("div",{className:"contents",children:[t.jsx("div",{className:"row",children:t.jsxs("div",{className:"controls d-flex align-items-center",children:[t.jsx(S,{columns:s,visibleColumns:n,toggleColumn:_}),t.jsx(A,{perPage:x,setPerPage:b}),t.jsx(w,{filename:a("patrones"),columns:s,fetchData:N})]})}),t.jsx("div",{className:"table-responsive",children:t.jsxs(O,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblProductPatterns",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[s.map(e=>t.jsxs("th",{className:`${e.class_th??""} ${n.includes(e.key)?"":"d-none"}`.trim(),children:[a(e.label),e.sort&&t.jsx(D,{name:e.key,sortable:!0,sort_field:l.sort_field,sort_direction:l.sort_direction,sortChanged:g})]},e.key)),t.jsx("th",{className:"text-center",children:a("acciones")})]})}),t.jsx(F,{columns:s,queryParams:l,visibleColumns:n,SearchFieldChanged:y}),t.jsx("tbody",{children:o.data.map(e=>t.jsxs("tr",{children:[s.map(i=>t.jsx("td",{className:`${i.class_td??""} ${n.includes(i.key)?"":"d-none"}`.trim(),children:K(e[i.key],i,e)},i.key)),t.jsxs("td",{className:"text-end",children:[(r==null?void 0:r["product-patterns.edit"])&&t.jsx(c,{placement:"top",overlay:t.jsx(p,{className:"ttp-top",children:e.status==1?a("patron_activo"):a("patron_inactivo")}),children:t.jsx(q,{status:e.status,id:e.id,updateRoute:"product-patterns.status",reloadUrl:route("product-patterns.index"),reloadResource:"product-patterns"})},"status-"+e.id),(r==null?void 0:r["product-patterns.edit"])&&t.jsx(c,{placement:"top",overlay:t.jsx(p,{className:"ttp-top",children:a("editar")}),children:t.jsx(P,{href:route("product-patterns.edit",e.id),className:"btn btn-sm btn-info ms-1",children:t.jsx("i",{className:"la la-edit"})})},"edit-"+e.id),(r==null?void 0:r["product-patterns.destroy"])&&t.jsx(c,{placement:"top",overlay:t.jsx(p,{className:"ttp-top",children:a("eliminar")}),children:t.jsx("span",{children:t.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>v(e.id),children:t.jsx("i",{className:"la la-trash"})})})},"delete-"+e.id)]})]},"pattern-"+e.id))})]})}),t.jsx($,{links:o.meta.links,totalRecords:o.meta.total,currentPage:o.meta.current_page,perPage:o.meta.per_page,onPageChange:e=>{C.get(route("product-patterns.index"),{...l,page:e,per_page:x,sort_field:u.sort_field,sort_direction:u.sort_direction},{preserveState:!0})}})]})]})}export{ct as default};
