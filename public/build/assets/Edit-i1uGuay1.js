import{X as g,G as N,j as e,S as v,A as S}from"./app-NnFxdXA2.js";import{A as F}from"./AdminAuthenticatedLayout-DegxA_vr.js";import"./Header-CD84b1cW.js";import"./react-tooltip.min-D40t4uH0.js";import{I as A}from"./InputError-BTDowRim.js";import{P as D}from"./PrimaryButton-T50Lbu5Y.js";import{T as E}from"./TextInput-CyElN-IW.js";import{u as z}from"./useTranslation-D4BTlT_h.js";import"./Sidebar-Drm6TH6A.js";import"./bootstrap.bundle.min-BWQMyn1D.js";import"./NavLink-lbotXNTD.js";import"./Dropdown-CmfadxWU.js";import"./transition-CHBtRj2X.js";import"./useSweetAlert-9_SeR-8m.js";import"./OverlayTrigger-Cq1xmpeu.js";import"./floating-ui.dom-CQJTMakY.js";function Q({auth:x,session:I,title:m,subtitle:h,availableLocales:P,functionality:a,module_name:j}){var u;const s=z(),d=((u=g())==null?void 0:u.props)||{};d.locale,d.languages;const t=d.permissions||{},{data:c,setData:f,errors:b,processing:p}=N({label:a.label||""});function _(n){n.preventDefault();const l=new FormData;l.append("_method","PUT"),Object.entries(c).forEach(([o,r])=>{o==="logo"&&r instanceof File?l.append(o,r):typeof r=="object"&&r!==null?l.append(o,JSON.stringify(r)):r!=null&&l.append(o,r)}),S.post(route("functionalities.update",a.id),l,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Funcionalidad actualizada"),onError:o=>console.error("Errores:",o),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const i=[];return t!=null&&t["modules.edit"]&&i.push({text:`${s("modulo_volver")} ${j}`,icon:"la-angle-left",url:"modules.edit",params:[a.module_id,"functionalities"],modal:!1}),t!=null&&t["modules.edit"]&&i.push({text:s("eliminar"),icon:"la-trash",method:"delete",url:"functionalities.destroy",params:[a.id],title:s("funcionalidad_eliminar"),message:s("funcionalidad_eliminar_confirm"),modal:!1}),e.jsxs(F,{user:x.user,title:m,subtitle:h,actions:i,children:[e.jsx(v,{title:m}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[s("funcionalidad")," ",e.jsx("u",{children:a.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[s("creado"),": ",e.jsx("strong",{children:a.formatted_created_at})]}),a.created_by_name&&e.jsxs("span",{className:"text-muted me-5",children:[s("creado_por"),": ",e.jsx("strong",{children:a.created_by_name})]}),e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado"),": ",e.jsx("strong",{children:a.formatted_updated_at})]}),a.updated_by_name&&e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado_por"),": ",e.jsx("strong",{children:a.updated_by_name})]})]})]}),e.jsxs("form",{onSubmit:_,children:[e.jsx("div",{className:"row gy-3",children:e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"label",className:"form-label",children:[s("etiqueta"),"*"]}),e.jsx(E,{className:"",type:"text",placeholder:s("etiqueta"),value:c.label,onChange:n=>f("label",n.target.value),maxLength:100,required:!0}),e.jsx(A,{message:b.label})]})})}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(D,{disabled:p,className:"btn btn-rdn",children:p?s("procesando")+"...":s("guardar")})})]})]})]})}export{Q as default};
