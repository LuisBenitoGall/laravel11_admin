import{j as e,S as k,A as N}from"./app-ipN4Lpei.js";import{A as v}from"./AdminAuthenticatedLayout-Dnf9viHk.js";import{u as P,C as R,R as T,S as A,F as S,P as D}from"./useTableManagement-ok2MqPin.js";import"./StatusButton-DCRJzntl.js";import{T as F,a as $}from"./TableExporter-DGl194Wv.js";import"./useSweetAlert-CmWHaLPS.js";import{u as K}from"./useTranslation-C25qZZp5.js";import{r as q}from"./renderCellContent-DIZkmWKW.js";import{O as E,T as O}from"./OverlayTrigger-p_uRoGhW.js";import"./Header-bG4uIAmT.js";import"./TextInput-CkCvusrN.js";import"./Sidebar-Dzqm1Vbq.js";import"./bootstrap.bundle.min-C7oov5VN.js";import"./NavLink-BFjf2yvp.js";import"./Dropdown-DaycTqil.js";import"./transition-B_klRBgP.js";import"./es-dSXlHLzL.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-D0rCu0qC.js";import"./typeof-QjJsDpFa.js";function ne({auth:u,session:w,title:d,subtitle:h,accounts:l,currency:y,queryParams:c={},availableLocales:I}){const n=typeof c=="object"&&c!==null?c:{},a=K(),s=[{key:"name",label:a("cuenta"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("cuenta_filtrar")},{key:"start_date",label:a("inicio"),sort:!0,filter:"date",class_th:"text-center",class_td:"text-end",placeholder:a("inicio"),dateKeys:["start_date"]},{key:"end_date",label:a("fin"),sort:!0,filter:"date",class_th:"text-center",class_td:"text-end",placeholder:a("fin"),dateKeys:["end_date"]},{key:"price",label:a("precio"),sort:!1,filter:"",class_th:"text-center",class_td:"text-end",currency:y,placeholder:a("precio")}],{permissions:r,sortParams:m,perPage:p,setPerPage:f,visibleColumns:i,toggleColumnVisibility:_,SearchFieldChanged:j,sortChanged:b,filteredData:g,handleDelete:C}=P({table:"tblCompanyAccounts",allColumnKeys:s.map(t=>t.key),entityName:"company-accounts",indexRoute:"company-accounts.index",destroyRoute:"company-accounts.destroy",filteredDataRoute:"company-accounts.filtered-data",labelName:"cuenta",queryParams:n}),x=[];return r!=null&&r["my-account.edit"]&&x.push({text:a("cuenta_renovar"),icon:"la-shopping-cart",url:"company-accounts.create",modal:!1}),e.jsxs(v,{user:u.user,title:d,subtitle:h,actions:x,children:[e.jsx(k,{title:d}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(R,{columns:s,visibleColumns:i,toggleColumn:_}),e.jsx(T,{perPage:p,setPerPage:f}),e.jsx(F,{filename:a("empresa_cuentas"),columns:s,fetchData:g})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs($,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblCompanyAccounts",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[s.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${i.includes(t.key)?"":"d-none"}`.trim(),children:[a(t.label),t.sort&&e.jsx(A,{name:t.key,sortable:!0,sort_field:n.sort_field,sort_direction:n.sort_direction,sortChanged:b})]},t.key)),e.jsx("th",{className:"text-center",children:a("acciones")})]})}),e.jsx(S,{columns:s,queryParams:n,visibleColumns:i,SearchFieldChanged:j}),e.jsx("tbody",{children:l.data.map(t=>e.jsxs("tr",{children:[s.map(o=>e.jsx("td",{className:`${o.class_td??""} ${i.includes(o.key)?"":"d-none"}`.trim(),children:q(t[o.key],o,t)},o.key)),e.jsx("td",{className:"text-end",children:(r==null?void 0:r["my-account.destroy"])&&e.jsx(E,{placement:"top",overlay:e.jsx(O,{className:"ttp-top",children:a("cancelar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>C(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)})]},"account-"+t.id))})]})}),e.jsx(D,{links:l.meta.links,totalRecords:l.meta.total,currentPage:l.meta.current_page,perPage:l.meta.per_page,onPageChange:t=>{N.get(route("company-accounts.index"),{...n,page:t,per_page:p,sort_field:m.sort_field,sort_direction:m.sort_direction},{preserveState:!0})}})]})]})}export{ne as default};
