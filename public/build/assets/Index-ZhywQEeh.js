import{j as e,S as v,x as C,A as P}from"./app-DRj95fl3.js";import{A as R}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";import{u as T,C as S,R as A,S as F,F as D,P as $}from"./useTableManagement-4XK40PxX.js";import{S as q}from"./StatusButton-CIImyXxq.js";import{T as E}from"./TableExporter-Cf6Xvvy9.js";import"./useSweetAlert-D-bXTlQV.js";import{u as O}from"./useTranslation-BmHTxgDU.js";import{r as w}from"./renderCellContent-C4U_4bOx.js";import{T as B}from"./Table-CUvKlSmp.js";import{O as c,T as m}from"./OverlayTrigger-BXbmHDr2.js";import"./Header-sOAC_5kI.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./TextInput-DHZ4LhQ-.js";import"./es-D0X2UUFm.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-CcScNE44.js";import"./FileSaver.min-Bs0fFUdx.js";import"./typeof-QjJsDpFa.js";function de({auth:j,session:I,title:u,subtitle:f,accounts:l,queryParams:d={},availableLocales:K}){const i=typeof d=="object"&&d!==null?d:{},s=O(),r=[{key:"name",label:s("cuenta"),sort:!0,filter:"text",type:"link",link:"accounts.edit",class_th:"",class_td:"",placeholder:s("cuenta_filtrar")},{key:"description",label:s("descripcion"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:s("descripcion_filtrar")},{key:"rate",label:s("tarifa"),sort:!1,class_th:"text-center",class_td:"text-end"},{key:"duration",label:e.jsxs(e.Fragment,{children:[" ",s("duracion")," ",e.jsxs("small",{children:["(",s("dias"),")"]})," "]}),sort:!1,class_th:"text-center",class_td:"text-end"}],{permissions:a,sortParams:p,perPage:x,setPerPage:b,visibleColumns:o,toggleColumnVisibility:_,SearchFieldChanged:g,sortChanged:y,filteredData:N,handleDelete:k}=T({table:"tblAccounts",allColumnKeys:r.map(t=>t.key),entityName:"accounts",indexRoute:"accounts.index",destroyRoute:"accounts.destroy",filteredDataRoute:"accounts.filtered-data",labelName:"cuenta",queryParams:i}),h=[];return a!=null&&a["accounts.create"]&&h.push({text:s("cuenta_nueva"),icon:"la-plus",url:"accounts.create",modal:!1}),e.jsxs(R,{user:j.user,title:u,subtitle:f,actions:h,children:[e.jsx(v,{title:u}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(S,{columns:r,visibleColumns:o,toggleColumn:_}),e.jsx(A,{perPage:x,setPerPage:b}),e.jsx(E,{filename:s("cuentas"),columns:r,fetchData:N})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(B,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblAccounts",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[r.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${o.includes(t.key)?"":"d-none"}`.trim(),children:[s(t.label),t.sort&&e.jsx(F,{name:t.key,sortable:!0,sort_field:i.sort_field,sort_direction:i.sort_direction,sortChanged:y})]},t.key)),e.jsx("th",{className:"text-center",children:s("acciones")})]})}),e.jsx(D,{columns:r,queryParams:i,visibleColumns:o,SearchFieldChanged:g}),e.jsx("tbody",{children:l.data.map(t=>e.jsxs("tr",{children:[r.map(n=>e.jsx("td",{className:`${n.class_td??""} ${o.includes(n.key)?"":"d-none"}`.trim(),children:w(t[n.key],n,t)},n.key)),e.jsxs("td",{className:"text-end",children:[(a==null?void 0:a["accounts.edit"])&&e.jsx(c,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:t.status==1?s("cuenta_activa"):s("cuenta_inactiva")}),children:e.jsx(q,{status:t.status,id:t.id,updateRoute:"accounts.status",reloadUrl:route("accounts.index"),reloadResource:"accounts"})},"status-"+t.id),(a==null?void 0:a["accounts.edit"])&&e.jsx(c,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:s("editar")}),children:e.jsx(C,{href:route("accounts.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+t.id),(a==null?void 0:a["accounts.destroy"])&&e.jsx(c,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:s("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>k(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)]})]},"account-"+t.id))})]})}),e.jsx($,{links:l.meta.links,totalRecords:l.meta.total,currentPage:l.meta.current_page,perPage:l.meta.per_page,onPageChange:t=>{P.get(route("accounts.index"),{...i,page:t,per_page:x,sort_field:p.sort_field,sort_direction:p.sort_direction},{preserveState:!0})}})]})]})}export{de as default};
