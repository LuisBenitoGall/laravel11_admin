import{X as g,G as _,r as b,j as e,S as N,A as S}from"./app-D2BBDCFC.js";import{A as v}from"./AdminAuthenticatedLayout-BpRIVWHk.js";import"./Header-BKPdAUPJ.js";import"./react-tooltip.min-Df6MMYhS.js";import{P as A}from"./PrimaryButton-ML6K15LR.js";import"./draftjs-to-html-BdN-nRo8.js";import"./TextInput-WxNO9k3W.js";import{u as E}from"./useSweetAlert-D27GvFwx.js";import{u as y}from"./useTranslation-CVJluGRe.js";import{u as D}from"./useHandleDelete-LEZBuzZV.js";import"./Sidebar-CyvRIWTq.js";import"./bootstrap.bundle.min-Ba_qfNiZ.js";import"./NavLink-DsoYfajC.js";import"./Dropdown-DDVnA8hG.js";import"./transition-DtKZpb_s.js";import"./OverlayTrigger-D8mD9LjI.js";import"./floating-ui.dom-CQJTMakY.js";function V({auth:p,session:w,title:c,subtitle:u,account:s,availableLocales:z}){var m;const t=y(),i=((m=g())==null?void 0:m.props)||{};i.locale,i.languages,E();const r=i.permissions||{},{data:x,processing:l}=_({name:s.name||"",rate:s.rate||"",duration:s.duration||"",description:s.description||"",status:s.status}),[F,f]=b.useState({});D("cuenta","accounts.delete",[s.id]);function h(j){j.preventDefault();const o=new FormData;o.append("_method","PUT"),Object.entries(x).forEach(([n,a])=>{n==="logo"&&a instanceof File?o.append(n,a):typeof a=="object"&&a!==null?o.append(n,JSON.stringify(a)):a!=null&&o.append(n,a)}),S.post(route("accounting-accounts.update",s.id),o,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Cuenta actualizada"),onError:n=>f(n),onFinish:()=>console.log("Petici√≥n finalizada")})}const d=[];return r!=null&&r["accounting-accounts.index"]&&d.push({text:t("cuentas_volver"),icon:"la-angle-left",url:"accounting-accounts.index",modal:!1}),r!=null&&r["accounting-accounts.create"]&&d.push({text:t("cuenta_nueva"),icon:"la-plus",url:"accounting-accounts.create",modal:!1}),e.jsxs(v,{user:p.user,title:c,subtitle:u,actions:d,children:[e.jsx(N,{title:c}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[t("cuenta")," ",e.jsxs("u",{children:[s.name," - ",s.code]})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[t("creado"),": ",e.jsx("strong",{children:s.formatted_created_at})]}),s.created_by_name&&e.jsxs("span",{className:"text-muted me-5",children:[t("creado_por"),": ",e.jsx("strong",{children:s.created_by_name})]}),e.jsxs("span",{className:"text-muted me-5",children:[t("actualizado"),": ",e.jsx("strong",{children:s.formatted_updated_at})]}),s.updated_by_name&&e.jsxs("span",{className:"text-muted me-5",children:[t("actualizado_por"),": ",e.jsx("strong",{children:s.updated_by_name})]})]})]}),e.jsxs("form",{onSubmit:h,children:[e.jsx("div",{className:"row gy-3"}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(A,{disabled:l,className:"btn btn-rdn",children:l?t("procesando")+"...":t("guardar")})})]})]})]})}export{V as default};
