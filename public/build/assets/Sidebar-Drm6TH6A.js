import{X,r as h,a as B,j as e,x as c}from"./app-NnFxdXA2.js";import{b as G}from"./bootstrap.bundle.min-BWQMyn1D.js";import{N as t}from"./NavLink-lbotXNTD.js";import{u as H}from"./useTranslation-D4BTlT_h.js";function v(){let i={};try{i=X().props}catch(n){console.error("Error en usePage():",n)}return i||{}}const K=()=>{var n;const i=((n=v())==null?void 0:n.sessionData)??{};return{currentCompany:i.currentCompany??null,companyModules:Array.isArray(i.companyModules)?i.companyModules:[],companySettings:i.companySettings??null}};function Q(i){const n=H(),g=n("areas_negocio"),k=n("bancos"),N=n("centros_coste"),f=n("centros_trabajo"),w=n("clientes"),u=n("configuracion"),_=n("contables_grupos"),b=n("contenidos"),$=n("cuenta"),y=n("cuenta_mi"),A=n("cuentas"),S=n("empresas"),M=n("empresas_mis"),C=n("iva_tipos"),p=n("modulos"),E=n("monedas"),O=n("paises"),P=n("permisos"),T=n("proveedores"),U=n("roles"),D=n("stock_movimientos"),R=n("unidades"),F=n("usuarios"),I=n("usuarios_listados"),[q,V]=h.useState(!0),[x,j]=h.useState([]),z=v(),{currentCompany:r,companyModules:J}=K(),{module:l,slug:a}=z;return h.useEffect(()=>{if(document.querySelectorAll('.menu-link[data-bs-toggle="collapse"]').forEach(s=>{new G.Collapse(s,{toggle:!1})}),!r){j([]);return}B.get("/secondary-menu").then(({data:s})=>{j(Array.isArray(s)?s:[])}).catch(s=>console.error("Error fetching secondary menu:",s))},[JSON.stringify(J),r==null?void 0:r.id]),e.jsxs("div",{className:`app-menu navbar-menu ${q?"show":"hide"}`,children:[e.jsx("div",{className:"navbar-brand-box",children:e.jsxs(c,{href:route("dashboard.index"),className:"logo",children:[e.jsx("span",{className:"logo-sm",children:e.jsx("img",{src:"/img/logo/logo-rft-portrait.jpg",alt:"RFT",className:"img-fluid p-3"})}),e.jsx("span",{className:"logo-lg",children:e.jsx("img",{src:"/img/logo/logo-rft-landscape.png",alt:"RFT",className:"img-fluid p-3"})})]})}),e.jsx("div",{id:"scrollbar",children:e.jsx("div",{id:"sidebar-menu",children:e.jsxs("ul",{className:"navbar-nav mt-3",id:"navbar-nav",children:[(()=>{const s=l==="dashboard";return e.jsx("li",{className:`nav-item ${s?"active text-white":""}`,children:e.jsxs(c,{href:route("dashboard.index"),className:`nav-link menu-link ${s?"active text-white":""}`,active:route().current("dashboard.index").toString(),children:[e.jsx("i",{className:"la la-home"}),e.jsx("span",{children:"Dashboard"})]})})})(),(()=>{const s=l==="company-accounts";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuMyAccount",role:"button","aria-expanded":s,"aria-controls":"menuMyAccount",children:[e.jsx("i",{className:"la la-user-circle"}),e.jsx("span",{children:y})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuMyAccount",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("company-accounts.index"),className:`nav-link menu-link ${a==="company-accounts"?"active text-white":""}`,children:e.jsx("span",{children:$})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-modules.index"),className:`nav-link menu-link ${a==="company-modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})})]})})]})})(),(()=>{const s=l==="settings";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuSettings",role:"button","aria-expanded":s,"aria-controls":"menuSettings",children:[e.jsx("i",{className:"la la-cog"}),e.jsx("span",{children:u})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuSettings",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("accounts.index"),className:`nav-link menu-link ${a==="accounts"?"active text-white":""}`,children:e.jsx("span",{children:A})})}),e.jsx("li",{children:e.jsx(t,{href:route("modules.index"),className:`nav-link menu-link ${a==="modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})}),e.jsx("li",{children:e.jsx(t,{href:route("roles.index"),className:`nav-link menu-link ${a==="roles"?"active text-white":""}`,children:e.jsx("span",{children:U})})}),e.jsx("li",{children:e.jsx(t,{href:route("permissions.index"),className:`nav-link menu-link ${a==="permissions"?"active text-white":""}`,children:e.jsx("span",{children:P})})}),e.jsx("li",{children:e.jsx(t,{href:route("currencies.index"),className:`nav-link menu-link ${a==="currencies"?"active text-white":""}`,children:e.jsx("span",{children:E})})}),e.jsx("li",{children:e.jsx(t,{href:route("banks.index"),className:`nav-link menu-link ${a==="banks"?"active text-white":""}`,children:e.jsx("span",{children:k})})}),e.jsx("li",{children:e.jsx(t,{href:route("countries.index"),className:`nav-link menu-link ${a==="countries"?"active text-white":""}`,children:e.jsx("span",{children:O})})}),e.jsx("li",{children:e.jsx(t,{href:route("contents.index"),className:`nav-link menu-link ${a==="contents"?"active text-white":""}`,children:e.jsx("span",{children:b})})}),e.jsx("li",{children:e.jsx(t,{href:route("stock-movements.index"),className:`nav-link menu-link ${a==="stock-movements"?"active text-white":""}`,children:e.jsx("span",{children:D})})}),e.jsx("li",{children:e.jsx(t,{href:route("units.index"),className:`nav-link menu-link ${a==="units"?"active text-white":""}`,children:e.jsx("span",{children:R})})}),e.jsx("li",{children:e.jsx(t,{href:route("iva-types.index"),className:`nav-link menu-link ${a==="iva-types"?"active text-white":""}`,children:e.jsx("span",{children:C})})}),e.jsx("li",{children:e.jsx(t,{href:route("accounting-account-types.index"),className:`nav-link menu-link ${a==="accounting-account-types"?"active text-white":""}`,children:e.jsx("span",{children:_})})})]})})]})})(),(()=>{const s=l==="users";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuUsers",role:"button","aria-expanded":s,"aria-controls":"menuUsers",children:[e.jsx("i",{className:"la la-users"}),e.jsx("span",{children:F})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuUsers",children:e.jsx("ul",{className:"nav nav-sm flex-column",children:e.jsx("li",{children:e.jsx(t,{href:route("users.index"),className:`nav-link menu-link ${a==="users"?"active text-white":""}`,children:e.jsx("span",{children:I})})})})})]})})(),(()=>{const s=l==="companies";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuCompanies",role:"button","aria-expanded":s,"aria-controls":"menuCompanies",children:[e.jsx("i",{className:"la la-building"}),e.jsx("span",{children:S})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuCompanies",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("companies.index"),className:`nav-link menu-link ${a==="companies"?"active text-white":""}`,children:e.jsx("span",{children:M})})}),e.jsx("li",{children:e.jsx(t,{href:route("business-areas.index"),className:`nav-link menu-link ${a==="business-areas"?"active text-white":""}`,children:e.jsx("span",{children:g})})}),e.jsx("li",{children:e.jsx(t,{href:route("cost-centers.index"),className:`nav-link menu-link ${a==="cost-centers"?"active text-white":""}`,children:e.jsx("span",{children:N})})}),e.jsx("li",{children:e.jsx(t,{href:route("workplaces.index"),className:`nav-link menu-link ${a==="workplaces"?"active text-white":""}`,children:e.jsx("span",{children:f})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-settings.index"),className:`nav-link menu-link ${a==="company-settings"?"active text-white":""}`,children:e.jsx("span",{children:u})})}),e.jsx("li",{children:e.jsx(t,{href:route("customers.index"),className:`nav-link menu-link ${a==="customers"?"active text-white":""}`,children:e.jsx("span",{children:w})})}),e.jsx("li",{children:e.jsx(t,{href:route("providers.index"),className:`nav-link menu-link ${a==="providers"?"active text-white":""}`,children:e.jsx("span",{children:T})})})]})})]})})(),Array.isArray(x)&&x.length>0?x.map(s=>{const m=`menu${s.slug.charAt(0).toUpperCase()+s.slug.slice(1)}`,o=l===s.slug;return e.jsxs("li",{className:`nav-item ${o?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${o?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":`#${m}`,role:"button","aria-expanded":o,"aria-controls":m,children:[e.jsx("i",{className:`la la-${s.icon}`}),e.jsx("span",{children:s.label})]}),Array.isArray(s.functionalities)&&s.functionalities.length>0&&e.jsx("div",{className:`collapse menu-dropdown ${o?"show":""}`,id:m,children:e.jsx("ul",{className:"nav nav-sm flex-column",children:s.functionalities.map(d=>{const L=a===d.slug;return e.jsx("li",{className:"nav-item",children:e.jsx(t,{href:route(`${d.slug}.index`).toString(),className:`nav-link ${L?"active text-white":""}`,children:e.jsx("span",{children:d.label})})},d.id)})})})]},s.id)}):e.jsx("li",{className:"nav-item",children:e.jsx("span",{className:"text-white"})})]})})})]})}const se=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{Q as S,se as a,K as u};
