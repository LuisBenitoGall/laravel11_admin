import{X as F,G as S,r as C,j as e,S as E,A as w}from"./app-NnFxdXA2.js";import{A as y}from"./AdminAuthenticatedLayout-DegxA_vr.js";import"./Header-CD84b1cW.js";import"./react-tooltip.min-D40t4uH0.js";import{C as A}from"./Checkbox-B4_doWxn.js";import{I as u}from"./InputError-BTDowRim.js";import{P as D}from"./PrimaryButton-T50Lbu5Y.js";import{T}from"./Textarea-DM9ty-tm.js";import{T as p}from"./TextInput-CyElN-IW.js";import{u as L}from"./useSweetAlert-9_SeR-8m.js";import{u as I}from"./useTranslation-D4BTlT_h.js";import{u as P}from"./useHandleDelete-Cl3Qp92O.js";import"./Sidebar-Drm6TH6A.js";import"./bootstrap.bundle.min-BWQMyn1D.js";import"./NavLink-lbotXNTD.js";import"./Dropdown-CmfadxWU.js";import"./transition-CHBtRj2X.js";import"./OverlayTrigger-Cq1xmpeu.js";import"./floating-ui.dom-CQJTMakY.js";import"./draftjs-to-html-DOfZqTbi.js";function te({auth:g,session:z,title:h,subtitle:v,account:s,currency:N,availableLocales:O}){var f;const a=I(),m=((f=F())==null?void 0:f.props)||{};m.locale,m.languages,L();const r=m.permissions||{},{data:n,setData:i,processing:j}=S({name:s.name||"",rate:s.rate||"",duration:s.duration||"",description:s.description||"",status:s.status}),[x,b]=C.useState({});P("cuenta","accounts.delete",[s.id]);function _(t){t.preventDefault();const c=new FormData;c.append("_method","PUT"),Object.entries(n).forEach(([o,l])=>{o==="logo"&&l instanceof File?c.append(o,l):typeof l=="object"&&l!==null?c.append(o,JSON.stringify(l)):l!=null&&c.append(o,l)}),w.post(route("accounts.update",s.id),c,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Cuenta actualizada"),onError:o=>b(o),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const d=[];return r!=null&&r["accounts.index"]&&d.push({text:a("cuentas_volver"),icon:"la-angle-left",url:"accounts.index",modal:!1}),r!=null&&r["accounts.create"]&&d.push({text:a("cuenta_nueva"),icon:"la-plus",url:"accounts.create",modal:!1}),r!=null&&r["accounts.destroy"]&&d.push({text:a("eliminar"),icon:"la-trash",method:"delete",url:"accounts.destroy",params:[s.id],title:a("cuenta_eliminar"),message:a("cuenta_eliminar_confirm"),modal:!1}),e.jsxs(y,{user:g.user,title:h,subtitle:v,actions:d,children:[e.jsx(E,{title:h}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[a("cuenta")," ",e.jsx("u",{children:s.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[a("creado"),": ",e.jsx("strong",{children:s.formatted_created_at})]}),e.jsxs("span",{className:"text-muted",children:[a("actualizado"),": ",e.jsx("strong",{children:s.formatted_updated_at})]})]})]}),e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"row gy-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[a("cuenta"),"*"]}),e.jsx(p,{className:"",type:"text",name:"name",placeholder:a("nombre"),value:n.name,onChange:t=>i("name",t.target.value),maxLength:100,required:!0}),e.jsx(u,{message:x.name})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:a("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(A,{className:"xl",name:"status",checked:n.status,onChange:t=>i("status",t.target.checked)})})]})}),e.jsx("div",{className:"col-lg-3",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rate",className:"form-label",children:a("precio")}),e.jsx(p,{className:"text-end",type:"text",name:"rate",placeholder:"",value:n.rate,onChange:t=>i("rate",t.target.value),maxLength:7,addon:N}),e.jsx(u,{message:x.rate})]})}),e.jsx("div",{className:"col-lg-3",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"duration",className:"form-label",children:[a("duracion")," ",e.jsxs("small",{className:"text-warning",children:["(",a("dias"),")"]})]}),e.jsx(p,{className:"text-end",type:"text",name:"duration",placeholder:"",value:n.duration,onChange:t=>i("duration",t.target.value),maxLength:7}),e.jsx(u,{message:x.duration})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"form-label",children:a("descripcion")}),e.jsx(T,{value:n.description,name:"description",onChange:t=>i("description",t.target.value),rows:4})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(D,{disabled:j,className:"btn btn-rdn",children:j?a("procesando")+"...":a("guardar")})})]})]})]})}export{te as default};
