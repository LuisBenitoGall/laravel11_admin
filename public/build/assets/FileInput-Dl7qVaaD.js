import{r as n,j as e}from"./app-ipN4Lpei.js";import{u as y}from"./useTranslation-C25qZZp5.js";const U=n.forwardRef(function({id:i,name:l,label:f="",className:g="",multiple:h=!1,accept:j="",error:c="",required:p=!1,showPreview:r=!0,...d},b){const v=y(),[u,o]=n.useState([]),[m,x]=n.useState([]),N=s=>{const t=Array.from(s.target.files);x(t),d.onChange&&d.onChange(s)};n.useEffect(()=>{if(!r||m.length===0){o([]);return}const t=m.filter(a=>a.type.startsWith("image/")).map(a=>URL.createObjectURL(a));return o(t),()=>{t.forEach(a=>URL.revokeObjectURL(a))}},[m,r]);const F=()=>{x([]),o([]);const s=document.getElementById(i||l);s&&(s.value="")};return e.jsxs("div",{className:`form-group position-relative ${g}`,children:[f&&e.jsxs("label",{htmlFor:i||l,className:"form-label",children:[v(f)," ",p&&e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"file",id:i||l,name:l,className:`form-control ${c?"is-invalid":""}`,ref:b,accept:j,required:p,multiple:h,onChange:N}),c&&e.jsx("div",{className:"invalid-feedback",children:c}),u.length>0&&r&&e.jsxs("div",{className:"mt-2 d-flex flex-wrap gap-2",children:[u.map((s,t)=>e.jsx("img",{src:s,alt:`preview-${t}`,className:"img-thumbnail",style:{maxWidth:"200px",maxHeight:"200px",objectFit:"cover"}},t)),e.jsx("div",{className:"w-100",children:e.jsx("button",{type:"button",className:"ms-2 btn btn-sm btn-danger",onClick:F,children:e.jsx("i",{className:"la la-trash"})})})]})]})});export{U as F};
