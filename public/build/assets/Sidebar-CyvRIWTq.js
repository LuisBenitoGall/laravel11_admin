import{X as L,r as u,a as X,j as e,x as c}from"./app-D2BBDCFC.js";import{b as B}from"./bootstrap.bundle.min-Ba_qfNiZ.js";import{N as t}from"./NavLink-DsoYfajC.js";import{u as G}from"./useTranslation-CVJluGRe.js";function v(){let i={};try{i=L().props}catch(n){console.error("Error en usePage():",n)}return i||{}}const H=()=>{var n;const i=((n=v())==null?void 0:n.sessionData)??{};return{currentCompany:i.currentCompany??null,companyModules:Array.isArray(i.companyModules)?i.companyModules:[],companySettings:i.companySettings??null}};function K(i){const n=G();n("areas_negocio");const g=n("bancos"),k=n("centros_coste"),N=n("centros_trabajo"),f=n("clientes"),h=n("configuracion"),w=n("contables_grupos"),_=n("contenidos"),b=n("cuenta"),$=n("cuenta_mi"),y=n("cuentas"),A=n("empresas"),S=n("empresas_mis"),M=n("iva_tipos"),p=n("modulos"),C=n("monedas"),E=n("paises"),O=n("permisos"),P=n("proveedores"),T=n("roles"),U=n("stock_movimientos"),D=n("unidades"),R=n("usuarios"),F=n("usuarios_listados"),[I,Q]=u.useState(!0),[x,j]=u.useState([]),q=v(),{currentCompany:r,companyModules:z}=H(),{module:l,slug:a}=q;return u.useEffect(()=>{if(document.querySelectorAll('.menu-link[data-bs-toggle="collapse"]').forEach(s=>{new B.Collapse(s,{toggle:!1})}),!r){j([]);return}X.get("/secondary-menu").then(({data:s})=>{j(Array.isArray(s)?s:[])}).catch(s=>console.error("Error fetching secondary menu:",s))},[JSON.stringify(z),r==null?void 0:r.id]),e.jsxs("div",{className:`app-menu navbar-menu ${I?"show":"hide"}`,children:[e.jsx("div",{className:"navbar-brand-box",children:e.jsxs(c,{href:route("dashboard.index"),className:"logo",children:[e.jsx("span",{className:"logo-sm",children:e.jsx("img",{src:"/img/logo/logo-rft-portrait.jpg",alt:"RFT",className:"img-fluid p-3"})}),e.jsx("span",{className:"logo-lg",children:e.jsx("img",{src:"/img/logo/logo-rft-landscape.png",alt:"RFT",className:"img-fluid p-3"})})]})}),e.jsx("div",{id:"scrollbar",children:e.jsx("div",{id:"sidebar-menu",children:e.jsxs("ul",{className:"navbar-nav mt-3",id:"navbar-nav",children:[(()=>{const s=l==="dashboard";return e.jsx("li",{className:`nav-item ${s?"active text-white":""}`,children:e.jsxs(c,{href:route("dashboard.index"),className:`nav-link menu-link ${s?"active text-white":""}`,active:route().current("dashboard.index").toString(),children:[e.jsx("i",{className:"la la-home"}),e.jsx("span",{children:"Dashboard"})]})})})(),(()=>{const s=l==="company-accounts";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuMyAccount",role:"button","aria-expanded":s,"aria-controls":"menuMyAccount",children:[e.jsx("i",{className:"la la-user-circle"}),e.jsx("span",{children:$})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuMyAccount",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("company-accounts.index"),className:`nav-link menu-link ${a==="company-accounts"?"active text-white":""}`,children:e.jsx("span",{children:b})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-modules.index"),className:`nav-link menu-link ${a==="company-modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})})]})})]})})(),(()=>{const s=l==="settings";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuSettings",role:"button","aria-expanded":s,"aria-controls":"menuSettings",children:[e.jsx("i",{className:"la la-cog"}),e.jsx("span",{children:h})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuSettings",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("accounts.index"),className:`nav-link menu-link ${a==="accounts"?"active text-white":""}`,children:e.jsx("span",{children:y})})}),e.jsx("li",{children:e.jsx(t,{href:route("modules.index"),className:`nav-link menu-link ${a==="modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})}),e.jsx("li",{children:e.jsx(t,{href:route("roles.index"),className:`nav-link menu-link ${a==="roles"?"active text-white":""}`,children:e.jsx("span",{children:T})})}),e.jsx("li",{children:e.jsx(t,{href:route("permissions.index"),className:`nav-link menu-link ${a==="permissions"?"active text-white":""}`,children:e.jsx("span",{children:O})})}),e.jsx("li",{children:e.jsx(t,{href:route("currencies.index"),className:`nav-link menu-link ${a==="currencies"?"active text-white":""}`,children:e.jsx("span",{children:C})})}),e.jsx("li",{children:e.jsx(t,{href:route("banks.index"),className:`nav-link menu-link ${a==="banks"?"active text-white":""}`,children:e.jsx("span",{children:g})})}),e.jsx("li",{children:e.jsx(t,{href:route("countries.index"),className:`nav-link menu-link ${a==="countries"?"active text-white":""}`,children:e.jsx("span",{children:E})})}),e.jsx("li",{children:e.jsx(t,{href:route("contents.index"),className:`nav-link menu-link ${a==="contents"?"active text-white":""}`,children:e.jsx("span",{children:_})})}),e.jsx("li",{children:e.jsx(t,{href:route("stock-movements.index"),className:`nav-link menu-link ${a==="stock-movements"?"active text-white":""}`,children:e.jsx("span",{children:U})})}),e.jsx("li",{children:e.jsx(t,{href:route("units.index"),className:`nav-link menu-link ${a==="units"?"active text-white":""}`,children:e.jsx("span",{children:D})})}),e.jsx("li",{children:e.jsx(t,{href:route("iva-types.index"),className:`nav-link menu-link ${a==="iva-types"?"active text-white":""}`,children:e.jsx("span",{children:M})})}),e.jsx("li",{children:e.jsx(t,{href:route("accounting-account-types.index"),className:`nav-link menu-link ${a==="accounting-account-types"?"active text-white":""}`,children:e.jsx("span",{children:w})})})]})})]})})(),(()=>{const s=l==="users";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuUsers",role:"button","aria-expanded":s,"aria-controls":"menuUsers",children:[e.jsx("i",{className:"la la-users"}),e.jsx("span",{children:R})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuUsers",children:e.jsx("ul",{className:"nav nav-sm flex-column",children:e.jsx("li",{children:e.jsx(t,{href:route("users.index"),className:`nav-link menu-link ${a==="users"?"active text-white":""}`,children:e.jsx("span",{children:F})})})})})]})})(),(()=>{const s=l==="companies";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuCompanies",role:"button","aria-expanded":s,"aria-controls":"menuCompanies",children:[e.jsx("i",{className:"la la-building"}),e.jsx("span",{children:A})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuCompanies",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("companies.index"),className:`nav-link menu-link ${a==="companies"?"active text-white":""}`,children:e.jsx("span",{children:S})})}),e.jsx("li",{children:e.jsx(t,{href:route("cost-centers.index"),className:`nav-link menu-link ${a==="cost-centers"?"active text-white":""}`,children:e.jsx("span",{children:k})})}),e.jsx("li",{children:e.jsx(t,{href:route("workplaces.index"),className:`nav-link menu-link ${a==="workplaces"?"active text-white":""}`,children:e.jsx("span",{children:N})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-settings.index"),className:`nav-link menu-link ${a==="company-settings"?"active text-white":""}`,children:e.jsx("span",{children:h})})}),e.jsx("li",{children:e.jsx(t,{href:route("customers.index"),className:`nav-link menu-link ${a==="customers"?"active text-white":""}`,children:e.jsx("span",{children:f})})}),e.jsx("li",{children:e.jsx(t,{href:route("providers.index"),className:`nav-link menu-link ${a==="providers"?"active text-white":""}`,children:e.jsx("span",{children:P})})})]})})]})})(),Array.isArray(x)&&x.length>0?x.map(s=>{const m=`menu${s.slug.charAt(0).toUpperCase()+s.slug.slice(1)}`,o=l===s.slug;return e.jsxs("li",{className:`nav-item ${o?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${o?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":`#${m}`,role:"button","aria-expanded":o,"aria-controls":m,children:[e.jsx("i",{className:`la la-${s.icon}`}),e.jsx("span",{children:s.label})]}),Array.isArray(s.functionalities)&&s.functionalities.length>0&&e.jsx("div",{className:`collapse menu-dropdown ${o?"show":""}`,id:m,children:e.jsx("ul",{className:"nav nav-sm flex-column",children:s.functionalities.map(d=>{const J=a===d.slug;return e.jsx("li",{className:"nav-item",children:e.jsx(t,{href:route(`${d.slug}.index`).toString(),className:`nav-link ${J?"active text-white":""}`,children:e.jsx("span",{children:d.label})})},d.id)})})})]},s.id)}):e.jsx("li",{className:"nav-item",children:e.jsx("span",{className:"text-white"})})]})})})]})}const ee=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{K as S,ee as a,H as u};
