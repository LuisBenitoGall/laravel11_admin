import{X as T,r as l,G as U,j as e,S as g}from"./app-D2BBDCFC.js";import{A as w}from"./AdminAuthenticatedLayout-BpRIVWHk.js";import"./Header-BKPdAUPJ.js";import"./react-tooltip.min-Df6MMYhS.js";import{T as S}from"./Tabs-D4al1Fxl.js";import"./TextInput-WxNO9k3W.js";import{u as k}from"./useSweetAlert-D27GvFwx.js";import{u as A}from"./useTranslation-CVJluGRe.js";import{M}from"./ModalUserCreate-aC9UcBhz.js";import N from"./CompanyInfoTab-CmhnJ9Up.js";import I from"./CompanyUsersTab-CwIZ7xzZ.js";import R from"./CompanyWorkplacesTab-B_tke1RP.js";import"./Sidebar-CyvRIWTq.js";import"./bootstrap.bundle.min-Ba_qfNiZ.js";import"./NavLink-DsoYfajC.js";import"./Dropdown-DDVnA8hG.js";import"./transition-DtKZpb_s.js";import"./OverlayTrigger-D8mD9LjI.js";import"./floating-ui.dom-CQJTMakY.js";import"./DatePickerToForm-1TaZaf05.js";import"./es-CMu9_e4K.js";/* empty css                         */import"./InputError-BrT6sb3o.js";import"./ModalTemplate-DNWm_Dg3.js";import"./SelectInput-xW4hb1gP.js";import"./FileInput-3y_uw9aG.js";import"./InfoPopover-C7FUp5XC.js";import"./PrimaryButton-ML6K15LR.js";import"./useTableManagement-CimlMvBQ.js";import"./TableExporter-D3yV3r2t.js";import"./FileSaver.min-Cyq3_crI.js";import"./typeof-QjJsDpFa.js";import"./StatusButton-CNGm9NUM.js";import"./renderCellContent-DnZ9KIBd.js";function ye({auth:p,session:E,title:m,subtitle:u,customer:a,relation:r,users:f,rows:x,salutations:h,tab:n,availableLocales:K}){var d;const t=A(),i=((d=T())==null?void 0:d.props)||{};i.locale,i.languages,k();const s=i.permissions||{},[P,z]=l.useState(n||"info");U({name:a.name||"",status:r.status});const[j,c]=l.useState(!1),[G,b]=l.useState(0),y=()=>c(!0),_=()=>c(!1),C=()=>b(v=>v+1),o=[];return s!=null&&s["customers.index"]&&o.push({text:t("clientes_volver"),icon:"la-angle-left",url:"customers.index",modal:!1}),s!=null&&s["customers.create"]&&o.push({text:t("cliente_nuevo"),icon:"la-plus",url:"customers.create",modal:!1}),s!=null&&s["users.create"]&&o.push({text:t("usuario_nuevo"),icon:"la-plus",url:"",modal:!0,onClick:y}),s!=null&&s["customers.destroy"]&&o.push({text:t("eliminar"),icon:"la-trash",method:"delete",url:"customers.destroy",params:[r.id],title:t("cliente_eliminar"),message:t("cliente_eliminar_confirm"),modal:!1}),e.jsxs(w,{user:p.user,title:m,subtitle:u,actions:o,children:[e.jsx(g,{title:m}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[t("cliente")," ",e.jsx("u",{children:a.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[t("creado"),": ",e.jsx("strong",{children:r.formatted_created_at})]}),e.jsxs("span",{className:"text-muted",children:[t("actualizado"),": ",e.jsx("strong",{children:r.formatted_updated_at})]})]})]}),e.jsx(S,{tabs:[{key:"info",label:t("informacion_general"),content:e.jsx(N,{company:a,side:"customers",updateRoute:"companies.update",updateParams:[a.id]})},{key:"workplaces",label:t("centros_trabajo"),content:e.jsx(R,{companyId:a,side:"customers"})},{key:"users",label:t("usuarios"),content:e.jsx(I,{users:f??null,rows:x??[],indexRoute:"customers.edit",indexParams:a.id,tableId:"tblCompanyUsers"})}],defaultActive:n}),e.jsx(M,{show:j,onClose:_,onCreate:C,companyId:a.id,side:"customers",salutations:h})]})]})}export{ye as default};
