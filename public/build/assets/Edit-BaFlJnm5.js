import{X as F,G as I,j as e,S as D}from"./app-ipN4Lpei.js";import{A as E}from"./AdminAuthenticatedLayout-Dnf9viHk.js";import"./Header-bG4uIAmT.js";import"./react-tooltip.min-Cg_Z_WJL.js";import{C as $}from"./Checkbox-C1MJcpfW.js";import{I as h}from"./InputError-BRgDUzXy.js";import{P as q}from"./PrimaryButton-BZCXfhHb.js";import{T as w}from"./TabsLocale-A4vQ1-DC.js";import{T as z}from"./Textarea-My1RaWQC.js";import{T as v}from"./TextInput-CkCvusrN.js";import{u as L}from"./useTranslation-C25qZZp5.js";import{u as P}from"./useHandleDelete-Hfbhgq5O.js";import"./Sidebar-Dzqm1Vbq.js";import"./bootstrap.bundle.min-C7oov5VN.js";import"./NavLink-BFjf2yvp.js";import"./Dropdown-DaycTqil.js";import"./transition-B_klRBgP.js";import"./useSweetAlert-CmWHaLPS.js";import"./OverlayTrigger-p_uRoGhW.js";import"./floating-ui.dom-CQJTMakY.js";import"./Tabs-B0yDq7mB.js";import"./draftjs-to-html-ByXe0Pce.js";function me({auth:g,session:B,title:u,subtitle:N,availableLocales:p,movement:t,explanations:b,sign:y}){var f;const a=L(),c=((f=F())==null?void 0:f.props)||{};c.locale;const d=c.languages||[],r=c.permissions||{},{data:m,setData:l,put:_,errors:x,processing:j}=I({name:t.name||"",acronym:t.acronym||"",status:t.status,...Object.fromEntries(p.map(s=>[`explanation_${s}`,b[s]||""]))}),k=s=>{const{name:n,type:o,checked:T,value:S,files:A}=s.target;o==="checkbox"?l(n,T):o==="file"?l(n,A[0]):l(n,S)};P("movimiento","stock-movements.destroy",[t.id]);function C(s){s.preventDefault(),_(route("stock-movements.update",t.id),{preserveScroll:!0,onSuccess:()=>console.log("Movimiento actualizado")})}const i=[];return r!=null&&r["stock-movements.index"]&&i.push({text:a("stock_movimientos_volver"),icon:"la-angle-left",url:"stock-movements.index",modal:!1}),r!=null&&r["stock-movements.create"]&&i.push({text:a("movimiento_nuevo"),icon:"la-plus",url:"stock-movements.create",modal:!1}),r!=null&&r["stock-movements.destroy"]&&i.push({text:a("eliminar"),icon:"la-trash",method:"delete",url:"stock-movements.destroy",params:[t.id],title:a("movimiento_eliminar"),message:a("movimiento_eliminar_confirm"),modal:!1}),e.jsxs(E,{user:g.user,title:u,subtitle:N,actions:i,children:[e.jsx(D,{title:u}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[a("stock_movimiento")," ",e.jsx("u",{children:t.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[a("creado"),": ",e.jsx("strong",{children:t.formatted_created_at})]}),e.jsxs("span",{className:"text-muted me-5",children:[a("actualizado"),": ",e.jsx("strong",{children:t.formatted_updated_at})]}),e.jsxs("span",{className:"text-muted me-5",children:[a("signo"),": ",e.jsx("strong",{children:y})]})]})]}),e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"row gy-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[a("movimiento"),"*"]}),e.jsx(v,{className:"",type:"text",placeholder:a("nombre"),value:m.name,onChange:s=>l("name",s.target.value),maxLength:150,required:!0}),e.jsx(h,{message:x.name})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:a("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx($,{className:"xl",name:"status",checked:m.status,onChange:s=>l("status",s.target.checked)})})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"acronym",className:"form-label",children:[a("siglas"),"*"]}),e.jsx(v,{className:"",type:"text",placeholder:a("siglas"),value:m.acronym,onChange:s=>l("acronym",s.target.value),maxLength:3,required:!0}),e.jsx(h,{message:x.acronym})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx(w,{availableLocales:p,languages:d,children:s=>{const n=Array.isArray(d[s])?d[s][3]:s,o=`explanation_${s}`;return e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`explanation_[${s}]`,className:"form-label",children:[a("observaciones")," ",n]}),e.jsx(z,{id:o,name:o,value:m[o]||"",onChange:k,className:"form-control"}),e.jsx(h,{message:x[o]})]})}})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(q,{disabled:j,className:"btn btn-rdn",children:j?a("procesando")+"...":a("guardar")})})]})]})]})}export{me as default};
