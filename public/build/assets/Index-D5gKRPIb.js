import{j as e,S as v,x as C,A as P}from"./app-DRj95fl3.js";import{A as R}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";import{u as T,C as A,R as S,S as D,F as B,P as F}from"./useTableManagement-4XK40PxX.js";import{S as $}from"./StatusButton-CIImyXxq.js";import{T as q}from"./TableExporter-Cf6Xvvy9.js";import{u as E}from"./useTranslation-BmHTxgDU.js";import{r as I}from"./renderCellContent-C4U_4bOx.js";import{T as O}from"./Table-CUvKlSmp.js";import{O as d,T as m}from"./OverlayTrigger-BXbmHDr2.js";import"./Header-sOAC_5kI.js";import"./useSweetAlert-D-bXTlQV.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./TextInput-DHZ4LhQ-.js";import"./es-D0X2UUFm.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-CcScNE44.js";import"./FileSaver.min-Bs0fFUdx.js";import"./typeof-QjJsDpFa.js";function ce({auth:h,session:w,title:u,subtitle:f,accounts:l,queryParams:c={},availableLocales:K}){const n=typeof c=="object"&&c!==null?c:{},t=E(),r=[{key:"bank",label:t("banco"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:t("banco_filtrar")},{key:"iban",label:t("IBAN"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:t("nombre_comercial_filtrar")},{key:"entity",label:t("entidad"),sort:!0,filter:"text",class_th:"text-center",class_td:"text-end",placeholder:t("entidad_filtrar")},{key:"office",label:t("oficina"),sort:!0,filter:"text",class_th:"text-center",class_td:"text-end",placeholder:t("oficina_filtrar")},{key:"dc",label:t("DC"),sort:!1,filter:"",class_th:"text-center",class_td:"text-end"},{key:"digits",label:t("cuenta"),sort:!0,filter:"text",class_th:"text-center",class_td:"text-end",placeholder:t("cuenta_filtrar")},{key:"featured",label:t("cuenta_principal"),sort:!1,filter:"",class_th:"",class_td:"text-center"},{key:"accounting_account",label:t("cuenta_contable"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:t("cuenta_filtrar")}],{permissions:s,sortParams:x,perPage:p,setPerPage:_,visibleColumns:o,toggleColumnVisibility:j,SearchFieldChanged:k,sortChanged:y,filteredData:g,handleDelete:N}=T({table:"tblBankAccounts",allColumnKeys:r.map(a=>a.key),entityName:"bank-accounts",indexRoute:"bank-accounts.index",destroyRoute:"bank-accounts.destroy",filteredDataRoute:"bank-accounts.filtered-data",labelName:"bancos_cuentas",queryParams:n}),b=[];return s!=null&&s["bank-accounts.create"]&&b.push({text:t("cuenta_nueva"),icon:"la-plus",url:"bank-accounts.create",modal:!1}),e.jsxs(R,{user:h.user,title:u,subtitle:f,actions:b,children:[e.jsx(v,{title:u}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(A,{columns:r,visibleColumns:o,toggleColumn:j}),e.jsx(S,{perPage:p,setPerPage:_}),e.jsx(q,{filename:t("bancos_cuentas"),columns:r,fetchData:g})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(O,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblBankAccounts",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[r.map(a=>e.jsxs("th",{className:`${a.class_th??""} ${o.includes(a.key)?"":"d-none"}`.trim(),children:[t(a.label),a.sort&&e.jsx(D,{name:a.key,sortable:!0,sort_field:n.sort_field,sort_direction:n.sort_direction,sortChanged:y})]},a.key)),e.jsx("th",{className:"text-center",children:t("acciones")})]})}),e.jsx(B,{columns:r,queryParams:n,visibleColumns:o,SearchFieldChanged:k}),e.jsx("tbody",{children:l.data.map(a=>e.jsxs("tr",{children:[r.map(i=>e.jsx("td",{className:`${i.class_td??""} ${o.includes(i.key)?"":"d-none"}`.trim(),children:I(a[i.key],i,a)},i.key)),e.jsxs("td",{className:"text-end",children:[(s==null?void 0:s["bank-accounts.edit"])&&e.jsx(d,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:a.status==1?t("banco_activo"):t("banco_inactiva")}),children:e.jsx($,{status:a.status,id:a.id,updateRoute:"bank-accounts.status",reloadUrl:route("bank-accounts.index"),reloadResource:"bank-accounts"})},"status-"+a.id),(s==null?void 0:s["bank-accounts.edit"])&&e.jsx(d,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:t("editar")}),children:e.jsx(C,{href:route("bank-accounts.edit",a.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+a.id),(s==null?void 0:s["bank-accounts.destroy"])&&e.jsx(d,{placement:"top",overlay:e.jsx(m,{className:"ttp-top",children:t("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>N(a.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+a.id)]})]},"account-"+a.id))})]})}),e.jsx(F,{links:l.meta.links,totalRecords:l.meta.total,currentPage:l.meta.current_page,perPage:l.meta.per_page,onPageChange:a=>{P.get(route("bank-accounts.index"),{...n,page:a,per_page:p,sort_field:x.sort_field,sort_direction:x.sort_direction},{preserveState:!0})}})]})]})}export{ce as default};
