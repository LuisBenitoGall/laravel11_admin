import{X as b,G as _,j as e,S,A}from"./app-NnFxdXA2.js";import{A as D}from"./AdminAuthenticatedLayout-DegxA_vr.js";import"./Header-CD84b1cW.js";import"./react-tooltip.min-D40t4uH0.js";import{C as F}from"./Checkbox-B4_doWxn.js";import{I as j}from"./InputError-BTDowRim.js";import{P as w}from"./PrimaryButton-T50Lbu5Y.js";import{T as E}from"./TextInput-CyElN-IW.js";import{u as P}from"./useSweetAlert-9_SeR-8m.js";import{u as y}from"./useTranslation-D4BTlT_h.js";import{u as C}from"./useHandleDelete-Cl3Qp92O.js";import"./Sidebar-Drm6TH6A.js";import"./bootstrap.bundle.min-BWQMyn1D.js";import"./NavLink-lbotXNTD.js";import"./Dropdown-CmfadxWU.js";import"./transition-CHBtRj2X.js";import"./OverlayTrigger-Cq1xmpeu.js";import"./floating-ui.dom-CQJTMakY.js";function Z({auth:v,session:I,title:m,subtitle:g,country:p,province:t,availableLocales:T}){var f;const a=y(),c=((f=b())==null?void 0:f.props)||{};c.locale,c.languages,P();const s=c.permissions||{},{data:d,setData:u,errors:x,processing:h}=_({name:t.name||"",status:t.status});C("provincia","provinces.delete",[t.id]);function N(n){n.preventDefault();const l=new FormData;l.append("_method","PUT"),Object.entries(d).forEach(([o,r])=>{o==="logo"&&r instanceof File?l.append(o,r):typeof r=="object"&&r!==null?l.append(o,JSON.stringify(r)):r!=null&&l.append(o,r)}),A.post(route("provinces.update",t.id),l,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Provincia actualizada"),onError:o=>console.error("Errores:",o),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const i=[];return s!=null&&s["provinces.index"]&&i.push({text:a("provincias_volver"),icon:"la-angle-left",url:"provinces.index",params:[p.id],modal:!1}),s!=null&&s["provinces.create"]&&i.push({text:a("provincia_nueva"),icon:"la-plus",url:"provinces.create",params:[p.id],modal:!1}),s!=null&&s["provinces.edit"]&&i.push({text:a("poblaciones"),icon:"la-city",url:"towns.index",params:[t.id],modal:!1}),s!=null&&s["provinces.destroy"]&&i.push({text:a("eliminar"),icon:"la-trash",method:"delete",url:"provinces.destroy",params:[t.id],title:a("provincia_eliminar"),message:a("provincia_eliminar_confirm"),modal:!1}),e.jsxs(D,{user:v.user,title:m,subtitle:g,actions:i,children:[e.jsx(S,{title:m}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[a("provincia")," ",e.jsx("u",{children:t.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[a("creado"),": ",e.jsx("strong",{children:t.formatted_created_at})]}),e.jsxs("span",{className:"text-muted",children:[a("actualizado"),": ",e.jsx("strong",{children:t.formatted_updated_at})]})]})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"row gy-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[a("provincia"),"*"]}),e.jsx(E,{className:"",type:"text",placeholder:a("nombre"),value:d.name,onChange:n=>u("name",n.target.value),maxLength:100,required:!0}),e.jsx(j,{message:x.name}),e.jsx(j,{message:x.province})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:a("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(F,{className:"xl",name:"status",checked:d.status,onChange:n=>u("status",n.target.checked)})})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(w,{disabled:h,className:"btn btn-rdn",children:h?a("procesando")+"...":a("guardar")})})]})]})]})}export{Z as default};
