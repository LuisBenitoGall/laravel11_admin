import{X as v,G as y,j as e,S as _,A as F}from"./app-ipN4Lpei.js";import{A as S}from"./AdminAuthenticatedLayout-Dnf9viHk.js";import"./Header-bG4uIAmT.js";import"./react-tooltip.min-Cg_Z_WJL.js";import{C as D}from"./Checkbox-C1MJcpfW.js";import{I as f}from"./InputError-BRgDUzXy.js";import{P as A}from"./PrimaryButton-BZCXfhHb.js";import{T as j}from"./TextInput-CkCvusrN.js";import{u as C}from"./useTranslation-C25qZZp5.js";import{u as E}from"./useHandleDelete-Hfbhgq5O.js";import"./Sidebar-Dzqm1Vbq.js";import"./bootstrap.bundle.min-C7oov5VN.js";import"./NavLink-BFjf2yvp.js";import"./Dropdown-DaycTqil.js";import"./transition-B_klRBgP.js";import"./useSweetAlert-CmWHaLPS.js";import"./OverlayTrigger-p_uRoGhW.js";import"./floating-ui.dom-CQJTMakY.js";function W({auth:b,session:I,title:u,subtitle:g,unit:a,availableLocales:P}){var h;const s=C(),m=((h=v())==null?void 0:h.props)||{};m.locale,m.languages;const t=m.permissions||{},{data:i,setData:c,errors:p,processing:x}=y({name:a.name||"",symbol:a.symbol||"",status:a.status});E("unidad","units.destroy",[a.id]);function N(l){l.preventDefault();const n=new FormData;n.append("_method","PUT"),Object.entries(i).forEach(([o,r])=>{o==="logo"&&r instanceof File?n.append(o,r):typeof r=="object"&&r!==null?n.append(o,JSON.stringify(r)):r!=null&&n.append(o,r)}),F.put(route("units.update",a.id),n,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Unidad actualizada"),onError:o=>console.error("Errores:",o),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const d=[];return t!=null&&t["units.index"]&&d.push({text:s("unidades_volver"),icon:"la-angle-left",url:"units.index",modal:!1}),t!=null&&t["units.create"]&&d.push({text:s("unidad_nueva"),icon:"la-plus",url:"units.create",modal:!1}),t!=null&&t["units.destroy"]&&d.push({text:s("eliminar"),icon:"la-trash",method:"delete",url:"units.destroy",params:[a.id],title:s("unidad_eliminar"),message:s("unidad_eliminar_confirm"),modal:!1}),e.jsxs(S,{user:b.user,title:u,subtitle:g,actions:d,children:[e.jsx(_,{title:u}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[s("unidad")," ",e.jsx("u",{children:a.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[s("creado"),": ",e.jsx("strong",{children:a.formatted_created_at})]}),e.jsxs("span",{className:"text-muted",children:[s("actualizado"),": ",e.jsx("strong",{children:a.formatted_updated_at})]})]})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"row gy-3 mb-3",children:[e.jsx("div",{className:"col-lg-5",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[s("unidad"),"*"]}),e.jsx(j,{className:"",type:"text",placeholder:s("nombre"),value:i.name,onChange:l=>c("name",l.target.value),maxLength:50,required:!0}),e.jsx(f,{message:p.name})]})}),e.jsx("div",{className:"col-lg-2",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"symbol",className:"form-label",children:s("simbolo")}),e.jsx(j,{className:"",type:"text",placeholder:s("simbolo"),value:i.symbol,onChange:l=>c("symbol",l.target.value),maxLength:4}),e.jsx(f,{message:p.symbol})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:s("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(D,{className:"xl",name:"status",checked:i.status,onChange:l=>c("status",l.target.checked)})})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(A,{disabled:x,className:"btn btn-rdn",children:x?s("procesando")+"...":s("guardar")})})]})]})]})}export{W as default};
