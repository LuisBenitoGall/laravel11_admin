import{j as e,S as k,x as C,A as P}from"./app-DRj95fl3.js";import{A as R}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";/* empty css                         */import{u as T,C as S,R as A,S as D,F,P as $}from"./useTableManagement-4XK40PxX.js";import{S as q}from"./StatusButton-CIImyXxq.js";import{T as z}from"./TableExporter-Cf6Xvvy9.js";import{u as E}from"./useTranslation-BmHTxgDU.js";import{r as K}from"./renderCellContent-C4U_4bOx.js";import{T as O}from"./Table-CUvKlSmp.js";import{O as m,T as p}from"./OverlayTrigger-BXbmHDr2.js";import"./Header-sOAC_5kI.js";import"./useSweetAlert-D-bXTlQV.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./TextInput-DHZ4LhQ-.js";import"./es-D0X2UUFm.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-CcScNE44.js";import"./FileSaver.min-Bs0fFUdx.js";import"./typeof-QjJsDpFa.js";function ce({auth:f,session:w,title:x,subtitle:_,companies:l,queryParams:n={},availableLocales:B}){const o=typeof n=="object"&&n!==null?n:{},r=E(),s=[{key:"name",label:r("razon_social"),sort:!0,filter:"text",type:"link",link:"companies.edit",class_th:"",class_td:"",placeholder:r("razon_social_filtrar")},{key:"tradename",label:r("nombre_comercial"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:r("nombre_comercial_filtrar")},{key:"created_at",label:r("fecha_alta"),sort:!0,filter:"date",class_th:"text-center",class_td:"text-end",placeholder:r("fecha_alta"),dateKeys:["date_from","date_to"]},{key:"nif",label:r("nif"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:r("nif_filtrar")},{key:"logo",label:r("logo"),sort:!1,filter:"",type:"image",icon:"building",class_th:"text-center",class_td:"text-center",placeholder:""}],{permissions:a,sortParams:u,perPage:h,setPerPage:v,visibleColumns:d,toggleColumnVisibility:j,SearchFieldChanged:b,sortChanged:g,filteredData:y,handleDelete:N}=T({table:"tblProviders",allColumnKeys:s.map(t=>t.key),entityName:"providers",indexRoute:"providers.index",destroyRoute:"providers.destroy",filteredDataRoute:"providers.filtered-data",labelName:"proveedor",queryParams:o}),c=[];return a!=null&&a["providers.create"]&&c.push({text:r("proveedor_nuevo"),icon:"la-plus",url:"providers.create",modal:!1}),a!=null&&a["providers.create"]&&c.push({text:r("proveedores_importar"),icon:"la-file-import",url:"providers.import",modal:!1}),e.jsxs(R,{user:f.user,title:x,subtitle:_,actions:c,children:[e.jsx(k,{title:x}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(S,{columns:s,visibleColumns:d,toggleColumn:j}),e.jsx(A,{perPage:h,setPerPage:v}),e.jsx(z,{filename:r("proveedores"),columns:s,fetchData:y})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(O,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblProviders",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[s.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${d.includes(t.key)?"":"d-none"}`.trim(),children:[r(t.label),t.sort&&e.jsx(D,{name:t.key,sortable:!0,sort_field:o.sort_field,sort_direction:o.sort_direction,sortChanged:g})]},t.key)),e.jsx("th",{className:"text-center",children:r("acciones")})]})}),e.jsx(F,{columns:s,queryParams:o,visibleColumns:d,SearchFieldChanged:b}),e.jsx("tbody",{children:l.data.map(t=>e.jsxs("tr",{children:[s.map(i=>e.jsx("td",{className:`${i.class_td??""} ${d.includes(i.key)?"":"d-none"}`.trim(),children:K(t[i.key],i,t)},i.key)),e.jsxs("td",{className:"text-end",children:[(a==null?void 0:a["providers.edit"])&&e.jsx(m,{placement:"top",overlay:e.jsx(p,{className:"ttp-top",children:t.status==1?r("proveedor_activo"):r("proveedor_inactivo")}),children:e.jsx(q,{status:t.status,id:t.id,updateRoute:"providers.status",reloadUrl:route("providers.index"),reloadResource:"providers"})},"status-"+t.id),(a==null?void 0:a["providers.edit"])&&e.jsx(m,{placement:"top",overlay:e.jsx(p,{className:"ttp-top",children:r("editar")}),children:e.jsx(C,{href:route("providers.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+t.id),(a==null?void 0:a["providers.destroy"])&&e.jsx(m,{placement:"top",overlay:e.jsx(p,{className:"ttp-top",children:r("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>N(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)]})]},"company-"+t.id))})]})}),e.jsx($,{links:l.meta.links,totalRecords:l.meta.total,currentPage:l.meta.current_page,perPage:l.meta.per_page,onPageChange:t=>{P.get(route("providers.index"),{...o,page:t,per_page:h,sort_field:u.sort_field,sort_direction:u.sort_direction},{preserveState:!0})}})]})]})}export{ce as default};
