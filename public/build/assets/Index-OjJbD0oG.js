import{j as e,S as y,x as f,A as P}from"./app-D2BBDCFC.js";import{A as R}from"./AdminAuthenticatedLayout-BpRIVWHk.js";import{u as A,C as S,R as T,S as D,F,P as $}from"./useTableManagement-CimlMvBQ.js";import{S as q}from"./StatusButton-CNGm9NUM.js";import{T as E,a as O}from"./TableExporter-D3yV3r2t.js";import"./useSweetAlert-D27GvFwx.js";import{u as w}from"./useTranslation-CVJluGRe.js";import{r as B}from"./renderCellContent-DnZ9KIBd.js";import{O as d,T as c}from"./OverlayTrigger-D8mD9LjI.js";import"./Header-BKPdAUPJ.js";import"./Sidebar-CyvRIWTq.js";import"./bootstrap.bundle.min-Ba_qfNiZ.js";import"./NavLink-DsoYfajC.js";import"./Dropdown-DDVnA8hG.js";import"./transition-DtKZpb_s.js";import"./TextInput-WxNO9k3W.js";import"./es-CMu9_e4K.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-xW4hb1gP.js";import"./FileSaver.min-Cyq3_crI.js";import"./typeof-QjJsDpFa.js";function ne({auth:j,session:I,title:p,subtitle:b,countries:r,queryParams:m={},availableLocales:K}){const i=typeof m=="object"&&m!==null?m:{},a=w(),l=[{key:"name",label:a("pais"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("pais_filtrar")},{key:"code",label:a("codigo"),sort:!0,filter:"text",class_th:"",class_td:"",placeholder:a("codigo_filtrar")},{key:"alfa2",label:a("Alfa 2"),sort:!0,filter:"text",class_th:"text-center",class_td:"text-end",placeholder:a("filtrar_por")+" Alfa 2"},{key:"alfa3",label:a("Alfa 3"),sort:!0,filter:"text",class_th:"text-center",class_td:"text-end",placeholder:a("filtrar_por")+" Alfa 3"},{key:"flag",label:a("bandera"),sort:!1,filter:"",class_th:"text-center",class_td:"text-center"}],{permissions:s,sortParams:x,perPage:u,setPerPage:_,visibleColumns:n,toggleColumnVisibility:g,SearchFieldChanged:N,sortChanged:v,filteredData:k,handleDelete:C}=A({table:"tblCountries",allColumnKeys:l.map(t=>t.key),entityName:"countries",indexRoute:"countries.index",destroyRoute:"countries.delete",filteredDataRoute:"countries.filtered-data",labelName:"pais",queryParams:i}),h=[];return s!=null&&s["countries.create"]&&h.push({text:a("pais_nuevo"),icon:"la-plus",url:"countries.create",modal:!1}),e.jsxs(R,{user:j.user,title:p,subtitle:b,actions:h,children:[e.jsx(y,{title:p}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center ms-auto",children:[e.jsx(S,{columns:l,visibleColumns:n,toggleColumn:g}),e.jsx(T,{perPage:u,setPerPage:_}),e.jsx(E,{filename:a("pais"),columns:l,fetchData:k})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(O,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblCountries",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[l.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${n.includes(t.key)?"":"d-none"}`.trim(),children:[a(t.label),t.sort&&e.jsx(D,{name:t.key,sortable:!0,sort_field:i.sort_field,sort_direction:i.sort_direction,sortChanged:v})]},t.key)),e.jsx("th",{className:"text-center",children:a("acciones")})]})}),e.jsx(F,{columns:l,queryParams:i,visibleColumns:n,SearchFieldChanged:N}),e.jsx("tbody",{children:r.data.map(t=>e.jsxs("tr",{children:[l.map(o=>e.jsx("td",{className:`${o.class_td??""} ${n.includes(o.key)?"":"d-none"}`.trim(),children:B(t[o.key],o,t)},o.key)),e.jsxs("td",{className:"text-end",children:[(s==null?void 0:s["countries.edit"])&&e.jsx(d,{placement:"top",overlay:e.jsx(c,{className:"ttp-top",children:t.status==1?a("pais_activo"):a("pais_inactivo")}),children:e.jsx(q,{status:t.status,id:t.id,updateRoute:"countries.status",reloadUrl:route("countries.index"),reloadResource:"countries"})},"status-"+t.id),(s==null?void 0:s["countries.edit"])&&e.jsx(d,{placement:"top",overlay:e.jsx(c,{className:"ttp-top",children:a("provincias")}),children:e.jsx(f,{href:route("provinces.index",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-flag"})})},"provinces-"+t.id),(s==null?void 0:s["countries.edit"])&&e.jsx(d,{placement:"top",overlay:e.jsx(c,{className:"ttp-top",children:a("editar")}),children:e.jsx(f,{href:route("countries.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+t.id),(s==null?void 0:s["countries.destroy"])&&e.jsx(d,{placement:"top",overlay:e.jsx(c,{className:"ttp-top",children:a("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>C(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)]})]},"country-"+t.id))})]})}),e.jsx($,{links:r.meta.links,totalRecords:r.meta.total,currentPage:r.meta.current_page,perPage:r.meta.per_page,onPageChange:t=>{P.get(route("countries.index"),{...i,page:t,per_page:u,sort_field:x.sort_field,sort_direction:x.sort_direction},{preserveState:!0})}})]})]})}export{ne as default};
