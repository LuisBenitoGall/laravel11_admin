import{X,r as h,a as B,j as e,x as c}from"./app-DRj95fl3.js";import{b as G}from"./bootstrap.bundle.min-CIHLONa7.js";import{N as a}from"./NavLink-B2TCDQIx.js";import{u as H}from"./useTranslation-BmHTxgDU.js";function v(){let i={};try{i=X().props}catch(n){console.error("Error en usePage():",n)}return i||{}}const K=()=>{var n;const i=((n=v())==null?void 0:n.sessionData)??{};return{currentCompany:i.currentCompany??null,companyModules:Array.isArray(i.companyModules)?i.companyModules:[],companySettings:i.companySettings??null}};function Q(i){const n=H();n("areas_negocio");const g=n("bancos"),k=n("centros_coste"),N=n("centros_trabajo"),f=n("clientes"),u=n("configuracion"),w=n("contables_grupos"),_=n("contenidos"),$=n("cuenta"),b=n("cuenta_mi"),y=n("cuentas"),A=n("empresas"),S=n("empresas_mis"),M=n("iva_tipos"),p=n("modulos"),C=n("monedas"),E=n("paises"),O=n("permisos"),P=n("proveedores"),T=n("roles"),U=n("sectores"),D=n("stock_movimientos"),R=n("unidades"),F=n("usuarios"),I=n("usuarios_listados"),[q,V]=h.useState(!0),[x,j]=h.useState([]),z=v(),{currentCompany:r,companyModules:J}=K(),{module:l,slug:t}=z;return h.useEffect(()=>{if(document.querySelectorAll('.menu-link[data-bs-toggle="collapse"]').forEach(s=>{new G.Collapse(s,{toggle:!1})}),!r){j([]);return}B.get("/secondary-menu").then(({data:s})=>{j(Array.isArray(s)?s:[])}).catch(s=>console.error("Error fetching secondary menu:",s))},[JSON.stringify(J),r==null?void 0:r.id]),e.jsxs("div",{className:`app-menu navbar-menu ${q?"show":"hide"}`,children:[e.jsx("div",{className:"navbar-brand-box",children:e.jsxs(c,{href:route("dashboard.index"),className:"logo",children:[e.jsx("span",{className:"logo-sm",children:e.jsx("img",{src:"/img/logo/logo-rft-portrait.jpg",alt:"RFT",className:"img-fluid p-3"})}),e.jsx("span",{className:"logo-lg",children:e.jsx("img",{src:"/img/logo/logo-rft-landscape.png",alt:"RFT",className:"img-fluid p-3"})})]})}),e.jsx("div",{id:"scrollbar",children:e.jsx("div",{id:"sidebar-menu",children:e.jsxs("ul",{className:"navbar-nav mt-3",id:"navbar-nav",children:[(()=>{const s=l==="dashboard";return e.jsx("li",{className:`nav-item ${s?"active text-white":""}`,children:e.jsxs(c,{href:route("dashboard.index"),className:`nav-link menu-link ${s?"active text-white":""}`,active:route().current("dashboard.index").toString(),children:[e.jsx("i",{className:"la la-home"}),e.jsx("span",{children:"Dashboard"})]})})})(),(()=>{const s=l==="company-accounts";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuMyAccount",role:"button","aria-expanded":s,"aria-controls":"menuMyAccount",children:[e.jsx("i",{className:"la la-user-circle"}),e.jsx("span",{children:b})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuMyAccount",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(a,{href:route("company-accounts.index"),className:`nav-link menu-link ${t==="company-accounts"?"active text-white":""}`,children:e.jsx("span",{children:$})})}),e.jsx("li",{children:e.jsx(a,{href:route("company-modules.index"),className:`nav-link menu-link ${t==="company-modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})})]})})]})})(),(()=>{const s=l==="settings";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuSettings",role:"button","aria-expanded":s,"aria-controls":"menuSettings",children:[e.jsx("i",{className:"la la-cog"}),e.jsx("span",{children:u})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuSettings",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(a,{href:route("accounts.index"),className:`nav-link menu-link ${t==="accounts"?"active text-white":""}`,children:e.jsx("span",{children:y})})}),e.jsx("li",{children:e.jsx(a,{href:route("modules.index"),className:`nav-link menu-link ${t==="modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})}),e.jsx("li",{children:e.jsx(a,{href:route("roles.index"),className:`nav-link menu-link ${t==="roles"?"active text-white":""}`,children:e.jsx("span",{children:T})})}),e.jsx("li",{children:e.jsx(a,{href:route("permissions.index"),className:`nav-link menu-link ${t==="permissions"?"active text-white":""}`,children:e.jsx("span",{children:O})})}),e.jsx("li",{children:e.jsx(a,{href:route("currencies.index"),className:`nav-link menu-link ${t==="currencies"?"active text-white":""}`,children:e.jsx("span",{children:C})})}),e.jsx("li",{children:e.jsx(a,{href:route("banks.index"),className:`nav-link menu-link ${t==="banks"?"active text-white":""}`,children:e.jsx("span",{children:g})})}),e.jsx("li",{children:e.jsx(a,{href:route("countries.index"),className:`nav-link menu-link ${t==="countries"?"active text-white":""}`,children:e.jsx("span",{children:E})})}),e.jsx("li",{children:e.jsx(a,{href:route("contents.index"),className:`nav-link menu-link ${t==="contents"?"active text-white":""}`,children:e.jsx("span",{children:_})})}),e.jsx("li",{children:e.jsx(a,{href:route("stock-movements.index"),className:`nav-link menu-link ${t==="stock-movements"?"active text-white":""}`,children:e.jsx("span",{children:D})})}),e.jsx("li",{children:e.jsx(a,{href:route("units.index"),className:`nav-link menu-link ${t==="units"?"active text-white":""}`,children:e.jsx("span",{children:R})})}),e.jsx("li",{children:e.jsx(a,{href:route("iva-types.index"),className:`nav-link menu-link ${t==="iva-types"?"active text-white":""}`,children:e.jsx("span",{children:M})})}),e.jsx("li",{children:e.jsx(a,{href:route("accounting-account-types.index"),className:`nav-link menu-link ${t==="accounting-account-types"?"active text-white":""}`,children:e.jsx("span",{children:w})})})]})})]})})(),(()=>{const s=l==="users";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuUsers",role:"button","aria-expanded":s,"aria-controls":"menuUsers",children:[e.jsx("i",{className:"la la-users"}),e.jsx("span",{children:F})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuUsers",children:e.jsx("ul",{className:"nav nav-sm flex-column",children:e.jsx("li",{children:e.jsx(a,{href:route("users.index"),className:`nav-link menu-link ${t==="users"?"active text-white":""}`,children:e.jsx("span",{children:I})})})})})]})})(),(()=>{const s=l==="companies";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuCompanies",role:"button","aria-expanded":s,"aria-controls":"menuCompanies",children:[e.jsx("i",{className:"la la-building"}),e.jsx("span",{children:A})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuCompanies",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(a,{href:route("companies.index"),className:`nav-link menu-link ${t==="companies"?"active text-white":""}`,children:e.jsx("span",{children:S})})}),e.jsx("li",{children:e.jsx(a,{href:route("cost-centers.index"),className:`nav-link menu-link ${t==="cost-centers"?"active text-white":""}`,children:e.jsx("span",{children:k})})}),e.jsx("li",{children:e.jsx(a,{href:route("workplaces.index"),className:`nav-link menu-link ${t==="workplaces"?"active text-white":""}`,children:e.jsx("span",{children:N})})}),e.jsx("li",{children:e.jsx(a,{href:route("company-settings.index"),className:`nav-link menu-link ${t==="company-settings"?"active text-white":""}`,children:e.jsx("span",{children:u})})}),e.jsx("li",{children:e.jsx(a,{href:route("customers.index"),className:`nav-link menu-link ${t==="customers"?"active text-white":""}`,children:e.jsx("span",{children:f})})}),e.jsx("li",{children:e.jsx(a,{href:route("providers.index"),className:`nav-link menu-link ${t==="providers"?"active text-white":""}`,children:e.jsx("span",{children:P})})}),e.jsx("li",{children:e.jsx(a,{href:route("company-sectors.index"),className:`nav-link menu-link ${t==="company-sectors"?"active text-white":""}`,children:e.jsx("span",{children:U})})})]})})]})})(),Array.isArray(x)&&x.length>0?x.map(s=>{const m=`menu${s.slug.charAt(0).toUpperCase()+s.slug.slice(1)}`,o=l===s.slug;return e.jsxs("li",{className:`nav-item ${o?"active text-white":""}`,children:[e.jsxs(c,{href:"#",className:`nav-link menu-link ${o?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":`#${m}`,role:"button","aria-expanded":o,"aria-controls":m,children:[e.jsx("i",{className:`la la-${s.icon}`}),e.jsx("span",{children:s.label})]}),Array.isArray(s.functionalities)&&s.functionalities.length>0&&e.jsx("div",{className:`collapse menu-dropdown ${o?"show":""}`,id:m,children:e.jsx("ul",{className:"nav nav-sm flex-column",children:s.functionalities.map(d=>{const L=t===d.slug;return e.jsx("li",{className:"nav-item",children:e.jsx(a,{href:route(`${d.slug}.index`).toString(),className:`nav-link ${L?"active text-white":""}`,children:e.jsx("span",{children:d.label})})},d.id)})})})]},s.id)}):e.jsx("li",{className:"nav-item",children:e.jsx("span",{className:"text-white"})})]})})})]})}const se=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{Q as S,se as a,K as u};
