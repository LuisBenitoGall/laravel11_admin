import{X as B,r as u,a as G,j as e,x as l}from"./app-ipN4Lpei.js";import{b as H}from"./bootstrap.bundle.min-C7oov5VN.js";import{N as t}from"./NavLink-BFjf2yvp.js";import{u as J}from"./useTranslation-C25qZZp5.js";function g(){let i={};try{i=B().props}catch(n){console.error("Error en usePage():",n)}return i||{}}const K=()=>{var n;const i=((n=g())==null?void 0:n.sessionData)??{};return{currentCompany:i.currentCompany??null,companyModules:Array.isArray(i.companyModules)?i.companyModules:[],companySettings:i.companySettings??null}};function Q(i){const n=J(),k=n("areas_negocio"),N=n("bancos"),f=n("centros_coste"),w=n("centros_trabajo"),_=n("clientes"),h=n("configuracion"),b=n("contables_grupos"),$=n("contenidos"),y=n("cuenta"),A=n("cuenta_mi"),S=n("cuentas"),C=n("empresas"),M=n("empresas_mis"),E=n("iva_tipos"),p=n("modulos"),O=n("monedas"),P=n("paises"),T=n("permisos"),U=n("proveedores"),D=n("roles"),R=n("stock_movimientos"),F=n("unidades"),I=n("usuarios"),q=n("usuarios_listados"),[z,V]=u.useState(!0),[m,j]=u.useState([]),L=g(),{currentCompany:v,companyModules:d}=K(),{module:c,slug:a}=L;return u.useEffect(()=>{if(document.querySelectorAll('.menu-link[data-bs-toggle="collapse"]').forEach(s=>{new H.Collapse(s,{toggle:!1})}),!Array.isArray(d)||d.length===0||!v){j([]);return}G.get("/secondary-menu").then(s=>{const o=s.data.filter(r=>d.includes(r.id));j(o)}).catch(s=>console.error("Error fetching secondary menu:",s))},[d.length,v]),e.jsxs("div",{className:`app-menu navbar-menu ${z?"show":"hide"}`,children:[e.jsx("div",{className:"navbar-brand-box",children:e.jsxs(l,{href:route("dashboard.index"),className:"logo",children:[e.jsx("span",{className:"logo-sm",children:e.jsx("img",{src:"/img/logo/logo-rft-portrait.jpg",alt:"RFT",className:"img-fluid p-3"})}),e.jsx("span",{className:"logo-lg",children:e.jsx("img",{src:"/img/logo/logo-rft-landscape.jpg",alt:"RFT",className:"img-fluid p-3"})})]})}),e.jsx("div",{id:"scrollbar",children:e.jsx("div",{id:"sidebar-menu",children:e.jsxs("ul",{className:"navbar-nav mt-3",id:"navbar-nav",children:[(()=>{const s=c==="dashboard";return e.jsx("li",{className:`nav-item ${s?"active text-white":""}`,children:e.jsxs(l,{href:route("dashboard.index"),className:`nav-link menu-link ${s?"active text-white":""}`,active:route().current("dashboard.index").toString(),children:[e.jsx("i",{className:"la la-home"}),e.jsx("span",{children:"Dashboard"})]})})})(),(()=>{const s=c==="company-accounts";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(l,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuMyAccount",role:"button","aria-expanded":s,"aria-controls":"menuMyAccount",children:[e.jsx("i",{className:"la la-user-circle"}),e.jsx("span",{children:A})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuMyAccount",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("company-accounts.index"),className:`nav-link menu-link ${a==="company-accounts"?"active text-white":""}`,children:e.jsx("span",{children:y})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-modules.index"),className:`nav-link menu-link ${a==="company-modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})})]})})]})})(),(()=>{const s=c==="settings";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(l,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuSettings",role:"button","aria-expanded":s,"aria-controls":"menuSettings",children:[e.jsx("i",{className:"la la-cog"}),e.jsx("span",{children:h})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuSettings",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("accounts.index"),className:`nav-link menu-link ${a==="accounts"?"active text-white":""}`,children:e.jsx("span",{children:S})})}),e.jsx("li",{children:e.jsx(t,{href:route("modules.index"),className:`nav-link menu-link ${a==="modules"?"active text-white":""}`,children:e.jsx("span",{children:p})})}),e.jsx("li",{children:e.jsx(t,{href:route("roles.index"),className:`nav-link menu-link ${a==="roles"?"active text-white":""}`,children:e.jsx("span",{children:D})})}),e.jsx("li",{children:e.jsx(t,{href:route("permissions.index"),className:`nav-link menu-link ${a==="permissions"?"active text-white":""}`,children:e.jsx("span",{children:T})})}),e.jsx("li",{children:e.jsx(t,{href:route("currencies.index"),className:`nav-link menu-link ${a==="currencies"?"active text-white":""}`,children:e.jsx("span",{children:O})})}),e.jsx("li",{children:e.jsx(t,{href:route("banks.index"),className:`nav-link menu-link ${a==="banks"?"active text-white":""}`,children:e.jsx("span",{children:N})})}),e.jsx("li",{children:e.jsx(t,{href:route("countries.index"),className:`nav-link menu-link ${a==="countries"?"active text-white":""}`,children:e.jsx("span",{children:P})})}),e.jsx("li",{children:e.jsx(t,{href:route("contents.index"),className:`nav-link menu-link ${a==="contents"?"active text-white":""}`,children:e.jsx("span",{children:$})})}),e.jsx("li",{children:e.jsx(t,{href:route("stock-movements.index"),className:`nav-link menu-link ${a==="stock-movements"?"active text-white":""}`,children:e.jsx("span",{children:R})})}),e.jsx("li",{children:e.jsx(t,{href:route("units.index"),className:`nav-link menu-link ${a==="units"?"active text-white":""}`,children:e.jsx("span",{children:F})})}),e.jsx("li",{children:e.jsx(t,{href:route("iva-types.index"),className:`nav-link menu-link ${a==="iva-types"?"active text-white":""}`,children:e.jsx("span",{children:E})})}),e.jsx("li",{children:e.jsx(t,{href:route("accounting-account-types.index"),className:`nav-link menu-link ${a==="accounting-account-types"?"active text-white":""}`,children:e.jsx("span",{children:b})})})]})})]})})(),(()=>{const s=c==="users";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(l,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuUsers",role:"button","aria-expanded":s,"aria-controls":"menuUsers",children:[e.jsx("i",{className:"la la-users"}),e.jsx("span",{children:I})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuUsers",children:e.jsx("ul",{className:"nav nav-sm flex-column",children:e.jsx("li",{children:e.jsx(t,{href:route("users.index"),className:`nav-link menu-link ${a==="users"?"active text-white":""}`,children:e.jsx("span",{children:q})})})})})]})})(),(()=>{const s=c==="companies";return e.jsxs("li",{className:`nav-item ${s?"active text-white":""}`,children:[e.jsxs(l,{href:"#",className:`nav-link menu-link ${s?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":"#menuCompanies",role:"button","aria-expanded":s,"aria-controls":"menuCompanies",children:[e.jsx("i",{className:"la la-building"}),e.jsx("span",{children:C})]}),e.jsx("div",{className:`collapse menu-dropdown ${s?"show":""}`,id:"menuCompanies",children:e.jsxs("ul",{className:"nav nav-sm flex-column",children:[e.jsx("li",{children:e.jsx(t,{href:route("companies.index"),className:`nav-link menu-link ${a==="companies"?"active text-white":""}`,children:e.jsx("span",{children:M})})}),e.jsx("li",{children:e.jsx(t,{href:route("business-areas.index"),className:`nav-link menu-link ${a==="business-areas"?"active text-white":""}`,children:e.jsx("span",{children:k})})}),e.jsx("li",{children:e.jsx(t,{href:route("cost-centers.index"),className:`nav-link menu-link ${a==="cost-centers"?"active text-white":""}`,children:e.jsx("span",{children:f})})}),e.jsx("li",{children:e.jsx(t,{href:route("workplaces.index"),className:`nav-link menu-link ${a==="workplaces"?"active text-white":""}`,children:e.jsx("span",{children:w})})}),e.jsx("li",{children:e.jsx(t,{href:route("company-settings.index"),className:`nav-link menu-link ${a==="company-settings"?"active text-white":""}`,children:e.jsx("span",{children:h})})}),e.jsx("li",{children:e.jsx(t,{href:route("customers.index"),className:`nav-link menu-link ${a==="customers"?"active text-white":""}`,children:e.jsx("span",{children:_})})}),e.jsx("li",{children:e.jsx(t,{href:route("providers.index"),className:`nav-link menu-link ${a==="providers"?"active text-white":""}`,children:e.jsx("span",{children:U})})})]})})]})})(),Array.isArray(m)&&m.length>0?m.map(s=>{const o=`menu${s.slug.charAt(0).toUpperCase()+s.slug.slice(1)}`,r=c===s.slug;return e.jsxs("li",{className:`nav-item ${r?"active text-white":""}`,children:[e.jsxs(l,{href:"#",className:`nav-link menu-link ${r?"active text-white":""}`,"data-bs-toggle":"collapse","data-bs-target":`#${o}`,role:"button","aria-expanded":r,"aria-controls":o,children:[e.jsx("i",{className:`la la-${s.icon}`}),e.jsx("span",{children:s.label})]}),Array.isArray(s.functionalities)&&s.functionalities.length>0&&e.jsx("div",{className:`collapse menu-dropdown ${r?"show":""}`,id:o,children:e.jsx("ul",{className:"nav nav-sm flex-column",children:s.functionalities.map(x=>{const X=a===x.slug;return e.jsx("li",{className:"nav-item",children:e.jsx(t,{href:route(`${x.slug}.index`).toString(),className:`nav-link ${X?"active text-white":""}`,children:e.jsx("span",{children:x.label})})},x.id)})})})]},s.id)}):e.jsx("li",{className:"nav-item",children:e.jsx("span",{className:"text-white"})})]})})})]})}const se=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{Q as S,se as a,K as u};
