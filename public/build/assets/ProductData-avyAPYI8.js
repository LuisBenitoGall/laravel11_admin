import{X as A,G as F,j as e,A as C}from"./app-D2BBDCFC.js";import{C as S}from"./Checkbox-CbGRJxKs.js";import"./DatePickerToForm-1TaZaf05.js";import"./FileInput-3y_uw9aG.js";import{I as g}from"./InfoPopover-C7FUp5XC.js";import{I as d}from"./InputError-BrT6sb3o.js";import{P}from"./PrimaryButton-ML6K15LR.js";import{T as p}from"./TextInput-WxNO9k3W.js";import{S as b}from"./SelectInput-xW4hb1gP.js";import{u as D}from"./useSweetAlert-D27GvFwx.js";import{u as I}from"./useTranslation-CVJluGRe.js";import"./es-CMu9_e4K.js";import"./floating-ui.dom-CQJTMakY.js";/* empty css                         */import"./OverlayTrigger-D8mD9LjI.js";function H({product:h,arr_production_status:c,arr_patterns:a}){var u;const l=I(),x=((u=A())==null?void 0:u.props)||{};x.locale,x.languages,D(),x.permissions;const{data:i,setData:r,processing:j,errors:m}=F({name:h.name||"",production_status:h.production_status||"",status:h.status||!0});console.log(a);const v=s=>{const{name:o,type:n,checked:t,value:y,files:f}=s.target;n==="checkbox"?r(o,t):n==="file"?r(o,f.length?f[0]:null):r(o,y)};function N(s){s.preventDefault();const o=new FormData;o.append("_method","PUT"),Object.entries(i).forEach(([n,t])=>{n==="signature"&&t instanceof File?o.append(n,t):typeof t=="object"&&t!==null?o.append(n,JSON.stringify(t)):t!=null&&o.append(n,t)}),C.post(route("products.update",h.id),o,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Producto actualizado"),onError:n=>console.error("Errores:",n),onFinish:()=>console.log("PeticiÃ³n finalizada")})}return e.jsx("div",{className:"col-12 gy-2",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"row gy-3 mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[l("nombre"),"*"]}),e.jsx(p,{className:"",name:"name",type:"text",placeholder:l("nombre"),value:i.name,onChange:s=>r("name",s.target.value),maxLength:150,required:!0}),e.jsx(d,{message:m.name})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"production_status",className:"form-label",children:l("producto_tipo")}),e.jsxs(b,{className:"form-select",name:"production_status",value:i.production_status,onChange:s=>r("production_status",s.target.value),children:[e.jsx("option",{value:"",children:l("opcion_selec")}),Array.isArray(c)&&c.length>0&&c.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value)),c&&typeof c=="object"&&!Array.isArray(c)&&Object.entries(c).map(([s,o])=>e.jsx("option",{value:s,children:o},s))]}),e.jsx(g,{code:""}),e.jsx(d,{message:m.production_status})]})}),e.jsx("div",{className:"col-lg-2 text-center",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:l("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(S,{className:"xl",name:"status",checked:i.status,onChange:v})})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pattern_id",className:"form-label",children:l("ref_automatica")}),Array.isArray(a)&&a.length>0||a&&typeof a=="object"&&!Array.isArray(a)&&Object.keys(a).length>0?e.jsxs(b,{className:"form-select",name:"pattern_id",value:i.pattern_id,onChange:s=>r("pattern_id",s.target.value),children:[e.jsx("option",{value:"",children:l("opcion_selec")}),Array.isArray(a)&&a.length>0&&a.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id)),a&&typeof a=="object"&&!Array.isArray(a)&&Object.entries(a).map(([s,o])=>e.jsx("option",{value:s,children:o},s))]}):e.jsx("label",{className:"text-warning mt-1",children:l("patrones_no_hay")}),e.jsx(g,{code:""}),e.jsx(d,{message:m.pattern_id})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"form-label",children:l("ref_manual")}),e.jsx(p,{className:"",name:"name",type:"text",placeholder:l("ref_manual"),value:i.name,onChange:s=>r("name",s.target.value),maxLength:150,required:!0}),e.jsx(d,{message:m.name})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cost_center",className:"form-label",children:l("centro_coste")}),e.jsx(p,{className:"",name:"cost_center",type:"text",placeholder:l("centro_coste"),value:i.cost_center,onChange:s=>r("cost_center",s.target.value),maxLength:150,required:!0}),e.jsx(d,{message:m.cost_center})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(P,{disabled:j,className:"btn btn-rdn",children:j?l("procesando")+"...":l("guardar")})})]})})}export{H as default};
