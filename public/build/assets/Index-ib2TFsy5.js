import{j as e,S as k,x as P,A as C}from"./app-NnFxdXA2.js";import{A as R}from"./AdminAuthenticatedLayout-DegxA_vr.js";/* empty css                         */import{u as S,C as T,R as A,S as D,F,P as $}from"./useTableManagement-Ba3jHw9z.js";import{S as q}from"./StatusButton-CF0JIfNg.js";import{T as w,a as E}from"./TableExporter-B-AMcDr1.js";import"./useSweetAlert-9_SeR-8m.js";import{u as K}from"./useTranslation-D4BTlT_h.js";import{r as O}from"./renderCellContent-CfgmT6uf.js";import{O as c,T as p}from"./OverlayTrigger-Cq1xmpeu.js";import"./Header-CD84b1cW.js";import"./TextInput-CyElN-IW.js";import"./Sidebar-Drm6TH6A.js";import"./bootstrap.bundle.min-BWQMyn1D.js";import"./NavLink-lbotXNTD.js";import"./Dropdown-CmfadxWU.js";import"./transition-CHBtRj2X.js";import"./es-CcTx2m4K.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-Dgf13zl3.js";import"./typeof-QjJsDpFa.js";function de({auth:j,session:B,title:m,subtitle:b,patterns:l,queryParams:i={},availableLocales:I}){const o=typeof i=="object"&&i!==null?i:{},a=K(),r=[{key:"name",label:a("nombre"),sort:!0,filter:"text",type:"link",link:"product-patterns.edit",class_th:"",class_td:"",placeholder:a("nombre_filtrar")},{key:"preview",label:a("patron"),sort:!1,class_th:"",class_td:"",placeholder:a("patron_filtrar")},{key:"created_at",label:a("fecha_alta"),sort:!0,class_th:"text-center",class_td:"text-end",placeholder:a("fecha_alta"),dateKeys:["date_from","date_to"]}],{permissions:s,sortParams:u,perPage:x,setPerPage:f,visibleColumns:d,toggleColumnVisibility:_,SearchFieldChanged:y,sortChanged:g,filteredData:N,handleDelete:v}=S({table:"tblPatterns",allColumnKeys:r.map(t=>t.key),entityName:"product-patterns",indexRoute:"product-patterns.index",destroyRoute:"product-patterns.destroy",filteredDataRoute:"product-patterns.filtered-data",labelName:"patron",queryParams:o}),h=[];return s!=null&&s["product-patterns.create"]&&h.push({text:a("patron_nuevo"),icon:"la-plus",url:"product-patterns.create",modal:!1}),e.jsxs(R,{user:j.user,title:m,subtitle:b,actions:h,children:[e.jsx(k,{title:m}),e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"controls d-flex align-items-center",children:[e.jsx(T,{columns:r,visibleColumns:d,toggleColumn:_}),e.jsx(A,{perPage:x,setPerPage:f}),e.jsx(w,{filename:a("patrones"),columns:r,fetchData:N})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(E,{className:"table table-nowrap table-striped align-middle mb-0",id:"tblProductPatterns",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[r.map(t=>e.jsxs("th",{className:`${t.class_th??""} ${d.includes(t.key)?"":"d-none"}`.trim(),children:[a(t.label),t.sort&&e.jsx(D,{name:t.key,sortable:!0,sort_field:o.sort_field,sort_direction:o.sort_direction,sortChanged:g})]},t.key)),e.jsx("th",{className:"text-center",children:a("acciones")})]})}),e.jsx(F,{columns:r,queryParams:o,visibleColumns:d,SearchFieldChanged:y}),e.jsx("tbody",{children:l.data.map(t=>e.jsxs("tr",{children:[r.map(n=>e.jsx("td",{className:`${n.class_td??""} ${d.includes(n.key)?"":"d-none"}`.trim(),children:O(t[n.key],n,t)},n.key)),e.jsxs("td",{className:"text-end",children:[(s==null?void 0:s["product-patterns.edit"])&&e.jsx(c,{placement:"top",overlay:e.jsx(p,{className:"ttp-top",children:t.status==1?a("patron_activo"):a("patron_inactivo")}),children:e.jsx(q,{status:t.status,id:t.id,updateRoute:"product-patterns.status",reloadUrl:route("product-patterns.index"),reloadResource:"product-patterns"})},"status-"+t.id),(s==null?void 0:s["product-patterns.edit"])&&e.jsx(c,{placement:"top",overlay:e.jsx(p,{className:"ttp-top",children:a("editar")}),children:e.jsx(P,{href:route("product-patterns.edit",t.id),className:"btn btn-sm btn-info ms-1",children:e.jsx("i",{className:"la la-edit"})})},"edit-"+t.id),(s==null?void 0:s["product-patterns.destroy"])&&e.jsx(c,{placement:"top",overlay:e.jsx(p,{className:"ttp-top",children:a("eliminar")}),children:e.jsx("span",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>v(t.id),children:e.jsx("i",{className:"la la-trash"})})})},"delete-"+t.id)]})]},"pattern-"+t.id))})]})}),e.jsx($,{links:l.meta.links,totalRecords:l.meta.total,currentPage:l.meta.current_page,perPage:l.meta.per_page,onPageChange:t=>{C.get(route("product-patterns.index"),{...o,page:t,per_page:x,sort_field:u.sort_field,sort_direction:u.sort_direction},{preserveState:!0})}})]})]})}export{de as default};
