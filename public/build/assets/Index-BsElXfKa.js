import{j as t,S as R,x as y,A as S}from"./app-DRj95fl3.js";import{A}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";/* empty css                         */import{u as F,C as T,R as $,S as q,F as D,P as E}from"./useTableManagement-4XK40PxX.js";import{S as K}from"./StatusButton-CIImyXxq.js";import"./FileSaver.min-Bs0fFUdx.js";import{u as O}from"./useTranslation-BmHTxgDU.js";import{r as w}from"./renderCellContent-C4U_4bOx.js";import{O as p,T as f}from"./OverlayTrigger-BXbmHDr2.js";import"./Header-sOAC_5kI.js";import"./useSweetAlert-D-bXTlQV.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./TextInput-DHZ4LhQ-.js";import"./es-D0X2UUFm.js";import"./floating-ui.dom-CQJTMakY.js";import"./SelectInput-CcScNE44.js";import"./typeof-QjJsDpFa.js";function de({auth:j,session:B,title:u,subtitle:b,company:l,side:I,returnRoutes:g,costCenters:o,queryParams:c={},availableLocales:L}){const i=typeof c=="object"&&c!==null?c:{},s=O(),_=(e,r)=>e!=null&&e.label?e.label:String(e==null?void 0:e.name).includes("customers.edit")?r("cliente_volver"):String(e==null?void 0:e.name).includes("providers.edit")?r("proveedor_volver"):r("volver"),n=[{key:"name",label:s("nombre"),sort:!0,filter:"text",type:"text",placeholder:s("nombre_filtrar")},{key:"code",label:s("codigo"),sort:!0,filter:"text",type:"text",placeholder:s("codigo_filtrar")},{key:"created_at",label:s("fecha_alta"),sort:!0,filter:"date",class_th:"text-center",class_td:"text-end",placeholder:s("fecha_alta"),dateKeys:["date_from","date_to"]}],{permissions:a,sortParams:x,perPage:h,setPerPage:v,visibleColumns:d,toggleColumnVisibility:N,SearchFieldChanged:C,sortChanged:k,handleDelete:P}=F({table:"tblCostCenters",allColumnKeys:n.map(e=>e.key),entityName:"costCenters",indexRoute:"cost-centers.index",destroyRoute:"cost-centers.destroy",filteredDataRoute:"cost-centers.filtered-data",routeParams:[l==null?void 0:l.id],labelName:"centro_coste",queryParams:i}),m=[];return g.forEach(e=>{m.push({text:_(e,s),icon:"la-angle-left",url:e.name,params:e.params??(l==null?void 0:l.id)??null,modal:!1})}),a!=null&&a["cost-centers.create"]&&m.push({text:s("centro_coste_nuevo"),icon:"la-plus",url:"cost-centers.create",params:(l==null?void 0:l.id)??null,modal:!1}),t.jsxs(A,{user:j.user,title:u,subtitle:b,actions:m,children:[t.jsx(R,{title:u}),t.jsxs("div",{className:"contents",children:[t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsxs("h2",{children:[s("centros_coste")," ",t.jsx("u",{children:l.name})]})}),t.jsxs("div",{className:"controls d-flex align-items-center",children:[t.jsx(T,{columns:n,visibleColumns:d,toggleColumn:N}),t.jsx($,{perPage:h,setPerPage:v})]})]}),t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-nowrap table-striped align-middle mb-0",id:"tblCostCenters",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[n.map(e=>t.jsxs("th",{className:`${e.class_th??""} ${d.includes(e.key)?"":"d-none"}`.trim(),children:[s(e.label),e.sort&&t.jsx(q,{name:e.key,sortable:!0,sort_field:i.sort_field,sort_direction:i.sort_direction,sortChanged:k})]},e.key)),t.jsx("th",{className:"text-center",children:s("acciones")})]})}),t.jsx(D,{columns:n,queryParams:i,visibleColumns:d,SearchFieldChanged:C}),t.jsx("tbody",{children:o.data.map(e=>t.jsxs("tr",{children:[n.map(r=>t.jsx("td",{className:`${r.class_td??""} ${d.includes(r.key)?"":"d-none"}`.trim(),children:w(e[r.key],r,e)},r.key)),t.jsxs("td",{className:"text-end",children:[(a==null?void 0:a["cost-centers.edit"])&&t.jsx(p,{placement:"top",overlay:t.jsx(f,{className:"ttp-top",children:e.status==1?s("centro_activo"):s("centro_inactivo")}),children:t.jsx(K,{status:e.status,id:e.id,updateRoute:"cost-centers.status",reloadUrl:route("cost-centers.index"),reloadResource:"cost-centers"})},"status-"+e.id),(a==null?void 0:a["cost-centers.edit"])&&t.jsx(p,{placement:"top",overlay:t.jsx(f,{className:"ttp-top",children:s("editar")}),children:t.jsx(y,{href:route("cost-centers.edit",e.id),className:"btn btn-sm btn-info ms-1",children:t.jsx("i",{className:"la la-edit"})})},"edit-"+e.id),(a==null?void 0:a["cost-centers.destroy"])&&t.jsx("button",{type:"button",className:"btn btn-sm btn-danger ms-1",onClick:()=>P(e.id),children:t.jsx("i",{className:"la la-trash"})})]})]},"center-"+e.id))})]})}),t.jsx(E,{links:o.meta.links,totalRecords:o.meta.total,currentPage:o.meta.current_page,perPage:o.meta.per_page,onPageChange:e=>{S.get(route("cost-centers.index"),{...i,page:e,per_page:h,sort_field:x.sort_field,sort_direction:x.sort_direction},{preserveState:!0})}})]})]})}export{de as default};
