import{X as N,G as _,j as e,S as b,A as S}from"./app-DRj95fl3.js";import{A as y}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";import"./Header-sOAC_5kI.js";import{C as A}from"./Checkbox-pg3dOide.js";import"./FileInput-si-eiBrJ.js";import{I as d}from"./InputError-DR469WsC.js";import{P as D}from"./PrimaryButton-CT79ceK8.js";import{T as x}from"./TextInput-DHZ4LhQ-.js";import{u as E}from"./useTranslation-BmHTxgDU.js";import{u as w}from"./useSweetAlert-D-bXTlQV.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./OverlayTrigger-BXbmHDr2.js";function Q({auth:h,session:P,title:i,subtitle:j,costCenter:a,company:f}){var u;const s=E(),t=(((u=N())==null?void 0:u.props)||{}).permissions||{};w();const{data:o,setData:l,errors:m,processing:p}=_({name:a.name||"",code:a.code||"",status:a.status===1?1:0});function g(r){r.preventDefault();const n=new FormData;n.append("_method","PUT"),n.append("name",o.name),n.append("code",o.code),n.append("status",o.status),S.post(route("cost-centers.update",a.id),n,{forceFormData:!0,preserveScroll:!0,nSuccess:()=>console.log("Centro actualizado"),onError:v=>console.error("Errores:",v),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const c=[];return t!=null&&t["cost-centers.index"]&&c.push({text:s("centros_coste_volver"),icon:"la-angle-left",url:"cost-centers.index",params:a.company_id,modal:!1}),t!=null&&t["cost-centers.create"]&&c.push({text:s("centro_nuevo"),icon:"la-plus",url:"cost-centers.create",params:a.company_id,modal:!1}),t!=null&&t["cost-centers.destroy"]&&c.push({text:s("eliminar"),icon:"la-trash",method:"delete",url:"cost-centers.destroy",params:[a.id],title:s("centro_coste_eliminar"),message:s("centro_coste_eliminar_confirm"),modal:!1}),e.jsxs(y,{user:h.user,title:i,subtitle:j,actions:c,children:[e.jsx(b,{title:i}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[s("centro_coste")," ",e.jsx("u",{children:a.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[s("empresa"),": ",e.jsx("strong",{children:f.name})]}),e.jsxs("span",{className:"text-muted me-5",children:[s("creado"),": ",e.jsx("strong",{children:a.formatted_created_at})]}),e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado"),": ",e.jsx("strong",{children:a.formatted_updated_at})]})]})]}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"row gy-3",children:[e.jsxs("div",{className:"col-lg-6",children:[e.jsxs("label",{className:"form-label",children:[s("nombre"),"*"]}),e.jsx(x,{value:o.name,onChange:r=>l("name",r.target.value),maxLength:150,required:!0}),e.jsx(d,{message:m.name})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("label",{className:"form-label",children:s("codigo")}),e.jsx(x,{value:o.code,onChange:r=>l("code",r.target.value),maxLength:50}),e.jsx(d,{message:m.code})]}),e.jsxs("div",{className:"col-lg-2 text-center",children:[e.jsx("label",{className:"form-label",children:s("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(A,{className:"xl",name:"status",checked:o.status===1,onChange:r=>l("status",r.target.checked?1:0)})}),e.jsx(d,{message:m.status})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(D,{disabled:p,className:"btn btn-rdn",children:p?s("procesando")+"...":s("guardar")})})]})})]})]})}export{Q as default};
