import{X as b,G as w,r as F,j as e,S as y,A as C}from"./app-Vy3k0dXk.js";import{A as L}from"./AdminAuthenticatedLayout-RXgeCdrB.js";import{C as S}from"./Checkbox-szYglKdk.js";import{I as m}from"./InputError-DMNw4oH7.js";import{P as E}from"./PrimaryButton-DRjProiT.js";import"./draftjs-to-html-rXm3VHoF.js";import{T as d}from"./TextInput-B6FzyUMY.js";import{u as A}from"./useTranslation-bNzddkut.js";import"./Header-CzP3bCHI.js";import"./useSweetAlert-McVN4vy-.js";import"./OverlayTrigger-DvJH8nk_.js";import"./Sidebar-CCn1nLaa.js";import"./bootstrap.bundle.min-B2fMu5hW.js";import"./NavLink-1EYN7PL6.js";import"./Dropdown-C05IHB0O.js";import"./transition-CGU5FYrv.js";function Y({auth:f,session:D,title:u,subtitle:v,availableLocales:I,bank:l}){var g;const s=A(),p=((g=b())==null?void 0:g.props)||{};p.locale,p.languages;const t=p.permissions||{},{data:r,setData:i,errors:c,processing:j}=w({name:l.name||"",tradename:l.tradename||"",lei:l.lei||"",swift:l.swift||"",eu_code:l.eu_code||"",supervisor_code:l.supervisor_code||"",status:l.status}),[P,N]=F.useState({});function _(a){a.preventDefault();const x=new FormData;x.append("_method","PUT"),Object.entries(r).forEach(([n,o])=>{n==="logo"&&o instanceof File?x.append(n,o):typeof o=="object"&&o!==null?x.append(n,JSON.stringify(o)):o!=null&&x.append(n,o)}),C.post(route("banks.update",l.id),x,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Banco actualizado"),onError:n=>N(n),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const h=[];return t!=null&&t["banks.index"]&&h.push({text:s("bancos_volver"),icon:"la-angle-left",url:"banks.index",modal:!1}),t!=null&&t["banks.create"]&&h.push({text:s("banco_nuevo"),icon:"la-plus",url:"banks.create",modal:!1}),t!=null&&t["banks.destroy"]&&h.push({text:s("eliminar"),icon:"la-trash",method:"delete",url:"banks.destroy",params:[l.id],title:s("banco_eliminar"),message:s("banco_eliminar_confirm"),modal:!1}),e.jsxs(L,{user:f.user,title:u,subtitle:v,actions:h,children:[e.jsx(y,{title:u}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[s("banco")," ",e.jsx("u",{children:l.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[s("creado"),": ",e.jsx("strong",{children:l.formatted_created_at})]}),e.jsxs("span",{className:"text-muted me-5",children:[s("actualizado"),": ",e.jsx("strong",{children:l.formatted_updated_at})]})]})]}),e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"row gy-3 mb-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[s("banco"),"*"]}),e.jsx(d,{name:"name",className:"",type:"text",placeholder:s("nombre"),value:r.name,onChange:a=>i("name",a.target.value),maxLength:100,required:!0}),e.jsx(m,{message:c.name})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tradename",className:"form-label",children:[s("nombre_comercial"),"*"]}),e.jsx(d,{name:"tradename",className:"",type:"text",placeholder:s("nombre_comercial"),value:r.tradename,onChange:a=>i("tradename",a.target.value),maxLength:100,required:!0}),e.jsx(m,{message:c.tradename})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"lei",className:"form-label",children:s("lei")}),e.jsx(d,{name:"lei",className:"",type:"text",placeholder:s("lei"),value:r.lei,onChange:a=>i("lei",a.target.value),maxLength:25}),e.jsx(m,{message:c.lei})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:s("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(S,{className:"xl",name:"status",checked:r.status,onChange:a=>i("status",a.target.checked)})})]})}),e.jsx("div",{className:"w-100 m-0"}),e.jsx("div",{className:"col-lg-4",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"swift",className:"form-label",children:s("swift_bic")}),e.jsx(d,{name:"swift",className:"",type:"text",placeholder:s("swift_bic"),value:r.swift,onChange:a=>i("swift",a.target.value),maxLength:11}),e.jsx(m,{message:c.swift})]})}),e.jsx("div",{className:"col-lg-4",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"eu_code",className:"form-label",children:s("codigo_europeo")}),e.jsx(d,{name:"eu_code",className:"",type:"text",placeholder:s("codigo_europeo"),value:r.eu_code,onChange:a=>i("eu_code",a.target.value),maxLength:10}),e.jsx(m,{message:c.eu_code})]})}),e.jsx("div",{className:"col-lg-4",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"supervisor_code",className:"form-label",children:s("codigo_supervisor")}),e.jsx(d,{name:"supervisor_code",className:"",type:"text",placeholder:s("codigo_supervisor"),value:r.supervisor_code,onChange:a=>i("supervisor_code",a.target.value),maxLength:10}),e.jsx(m,{message:c.supervisor_code})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(E,{disabled:j,className:"btn btn-rdn",children:j?s("procesando")+"...":s("guardar")})})]})]})]})}export{Y as default};
