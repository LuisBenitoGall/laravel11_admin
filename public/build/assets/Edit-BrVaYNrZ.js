import{X as _,G as b,j as e,S as q,A as D}from"./app-DRj95fl3.js";import{A as F}from"./AdminAuthenticatedLayout-Bvk28IJ_.js";import"./Header-sOAC_5kI.js";import"./react-tooltip.min-B6vStgXO.js";import{C as S}from"./Checkbox-pg3dOide.js";import{I as p}from"./InputError-DR469WsC.js";import{P as A}from"./PrimaryButton-CT79ceK8.js";import"./draftjs-to-html-McVxu4cf.js";import{T as h}from"./TextInput-DHZ4LhQ-.js";import{u as y}from"./useSweetAlert-D-bXTlQV.js";import{u as C}from"./useTranslation-BmHTxgDU.js";import{u as E}from"./useHandleDelete-C3FnkxQ4.js";import"./Sidebar-Cs0Qbv6j.js";import"./bootstrap.bundle.min-CIHLONa7.js";import"./NavLink-B2TCDQIx.js";import"./Dropdown-CxSOcthg.js";import"./transition-MDSzoOOX.js";import"./OverlayTrigger-BXbmHDr2.js";import"./floating-ui.dom-CQJTMakY.js";function Z({auth:f,session:I,title:x,subtitle:g,type:s,availableLocales:T}){var j;const a=C(),m=((j=_())==null?void 0:j.props)||{};m.locale,m.languages,y();const t=m.permissions||{},{data:o,setData:c,errors:u,processing:v}=b({name:s.name||"",iva:s.iva||"",equivalence_surcharge:s.equivalence_surcharge||"",status:s.status});E("iva_tipo","iva-types.destroy",[s.id]);function N(r){r.preventDefault();const n=new FormData;n.append("_method","PUT"),Object.entries(o).forEach(([i,l])=>{i==="logo"&&l instanceof File?n.append(i,l):typeof l=="object"&&l!==null?n.append(i,JSON.stringify(l)):l!=null&&n.append(i,l)}),D.post(route("iva-types.update",s.id),n,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>console.log("Tipo IVA actualizado"),onError:i=>console.error("Errores:",i),onFinish:()=>console.log("PeticiÃ³n finalizada")})}const d=[];return t!=null&&t["iva-types.index"]&&d.push({text:a("iva_tipos_volver"),icon:"la-angle-left",url:"iva-types.index",modal:!1}),t!=null&&t["iva-types.create"]&&d.push({text:a("tipo_nuevo"),icon:"la-plus",url:"iva-types.create",modal:!1}),t!=null&&t["iva-types.destroy"]&&d.push({text:a("eliminar"),icon:"la-trash",method:"delete",url:"iva-types.destroy",params:[s.id],title:a("iva_tipo_eliminar"),message:a("iva_tipo_eliminar_confirm"),modal:!1}),e.jsxs(F,{user:f.user,title:x,subtitle:g,actions:d,children:[e.jsx(q,{title:x}),e.jsxs("div",{className:"contents pb-4",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("h2",{children:[a("iva_tipo")," ",e.jsx("u",{children:s.name})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-4",children:[e.jsxs("span",{className:"text-muted me-5",children:[a("creado"),": ",e.jsx("strong",{children:s.formatted_created_at})]}),e.jsxs("span",{className:"text-muted",children:[a("actualizado"),": ",e.jsx("strong",{children:s.formatted_updated_at})]})]})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"row gy-3",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[a("tipo"),"*"]}),e.jsx(h,{className:"",type:"text",placeholder:a("nombre"),value:o.name,onChange:r=>c("name",r.target.value),maxLength:100,required:!0}),e.jsx(p,{message:u.name})]})}),e.jsx("div",{className:"col-lg-1 text-center",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:a("estado")}),e.jsx("div",{className:"pt-1 position-relative",children:e.jsx(S,{className:"xl",name:"status",checked:o.status,onChange:r=>c("status",r.target.checked)})})]})}),e.jsx("div",{className:"col-lg-3",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"iva",className:"form-label",children:[a("iva"),"*"]}),e.jsx(h,{className:"text-end setDecimal",type:"text",placeholder:"",value:o.iva,onChange:r=>c("iva",r.target.value),maxLength:7,addon:"%",required:!0}),e.jsx(p,{message:u.iva})]})}),e.jsx("div",{className:"col-lg-3",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equivalence_surcharge",className:"form-label",children:a("recargo_equivalencia")}),e.jsx(h,{className:"text-end setDecimal",type:"text",placeholder:"",value:o.equivalence_surcharge,onChange:r=>c("equivalence_surcharge",r.target.value),maxLength:7,addon:"%"}),e.jsx(p,{message:u.equivalence_surcharge})]})})]}),e.jsx("div",{className:"mt-4 text-end",children:e.jsx(A,{disabled:v,className:"btn btn-rdn",children:v?a("procesando")+"...":a("guardar")})})]})]})]})}export{Z as default};
